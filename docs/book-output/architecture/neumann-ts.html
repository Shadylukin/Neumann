<!DOCTYPE HTML>
<html lang="en" class="rust sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>TypeScript SDK - Neumann</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Unified tensor-based runtime for relational, graph, and vector data">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "rust";
            const default_dark_theme = "coal";
            window.path_to_searchindex_js = "../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Neumann</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Shadylukin/Neumann" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/Shadylukin/Neumann/edit/main/docs/book/src/architecture/neumann-ts.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="typescript-sdk-architecture"><a class="header" href="#typescript-sdk-architecture">TypeScript SDK Architecture</a></h1>
<p>The TypeScript SDK (<code>@neumann/client</code>) provides a TypeScript/JavaScript client
for the Neumann database with support for both Node.js (gRPC) and browser
(gRPC-Web) environments.</p>
<p>The SDK follows four design principles: environment agnostic (same API for
Node.js and browsers via dynamic imports), type-safe (full TypeScript support
with discriminated unions for results), streaming-first (async iterators for
large result sets), and zero dependencies in core types (proto converters are
separate from type definitions).</p>
<h2 id="architecture-overview"><a class="header" href="#architecture-overview">Architecture Overview</a></h2>
<pre class="mermaid">flowchart TD
    subgraph Application
        App[TypeScript Application]
    end

    subgraph SDK[&quot;@neumann/client&quot;]
        Client[NeumannClient]
        Types[Type Definitions]
        Errors[Error Classes]
        Converters[Proto Converters]
    end

    subgraph NodeJS[Node.js Environment]
        gRPC[&quot;@grpc/grpc-js&quot;]
    end

    subgraph Browser[Browser Environment]
        gRPCWeb[grpc-web]
    end

    App --&gt; Client
    Client --&gt; Types
    Client --&gt; Errors
    Client --&gt; Converters
    Client --&gt;|connect| gRPC
    Client --&gt;|connectWeb| gRPCWeb
    gRPC --&gt; Server[NeumannServer]
    gRPCWeb --&gt; Server
</pre>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<pre><code class="language-bash"># npm
npm install @neumann/client

# yarn
yarn add @neumann/client

# pnpm
pnpm add @neumann/client
</code></pre>
<p>For Node.js, also install the gRPC package:</p>
<pre><code class="language-bash">npm install @grpc/grpc-js
</code></pre>
<p>For browsers, install gRPC-Web:</p>
<pre><code class="language-bash">npm install grpc-web
</code></pre>
<h2 id="key-types"><a class="header" href="#key-types">Key Types</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>NeumannClient</code></td><td>Main client class for database operations</td></tr>
<tr><td><code>ConnectOptions</code></td><td>Options for server connection (API key, TLS, metadata)</td></tr>
<tr><td><code>QueryOptions</code></td><td>Options for query execution (identity)</td></tr>
<tr><td><code>ClientMode</code></td><td>Client mode: <code>'remote'</code> or <code>'embedded'</code></td></tr>
<tr><td><code>QueryResult</code></td><td>Discriminated union of all result types</td></tr>
<tr><td><code>Value</code></td><td>Typed scalar value with type tag</td></tr>
<tr><td><code>Row</code></td><td>Relational row with column values</td></tr>
<tr><td><code>Node</code></td><td>Graph node with label and properties</td></tr>
<tr><td><code>Edge</code></td><td>Graph edge with type, source, target, properties</td></tr>
<tr><td><code>Path</code></td><td>Graph path as list of segments</td></tr>
<tr><td><code>SimilarItem</code></td><td>Vector similarity search result</td></tr>
<tr><td><code>ArtifactInfo</code></td><td>Blob artifact metadata</td></tr>
<tr><td><code>NeumannError</code></td><td>Base error class with error code</td></tr>
</tbody></table>
</div>
<h2 id="connection-options"><a class="header" href="#connection-options">Connection Options</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td><code>apiKey</code></td><td><code>string?</code></td><td><code>undefined</code></td><td>API key for authentication</td></tr>
<tr><td><code>tls</code></td><td><code>boolean?</code></td><td><code>false</code></td><td>Enable TLS encryption</td></tr>
<tr><td><code>metadata</code></td><td><code>Record&lt;string, string&gt;?</code></td><td><code>undefined</code></td><td>Custom metadata headers</td></tr>
</tbody></table>
</div>
<h2 id="query-options"><a class="header" href="#query-options">Query Options</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody>
<tr><td><code>identity</code></td><td><code>string?</code></td><td><code>undefined</code></td><td>Identity for vault access control</td></tr>
</tbody></table>
</div>
<h2 id="connection-methods"><a class="header" href="#connection-methods">Connection Methods</a></h2>
<h3 id="nodejs-connection"><a class="header" href="#nodejs-connection">Node.js Connection</a></h3>
<pre><code class="language-typescript">import { NeumannClient } from '@neumann/client';

// Basic connection
const client = await NeumannClient.connect('localhost:9200');

// With authentication and TLS
const client = await NeumannClient.connect('db.example.com:9443', {
  apiKey: process.env.NEUMANN_API_KEY,
  tls: true,
  metadata: { 'x-request-id': 'abc123' },
});
</code></pre>
<h3 id="browser-connection-grpc-web"><a class="header" href="#browser-connection-grpc-web">Browser Connection (gRPC-Web)</a></h3>
<pre><code class="language-typescript">import { NeumannClient } from '@neumann/client';

// Connect via gRPC-Web
const client = await NeumannClient.connectWeb('https://api.example.com', {
  apiKey: 'your-api-key',
});
</code></pre>
<h2 id="query-execution"><a class="header" href="#query-execution">Query Execution</a></h2>
<h3 id="single-query"><a class="header" href="#single-query">Single Query</a></h3>
<pre><code class="language-typescript">const result = await client.execute('SELECT users');

// With identity for vault access
const result = await client.execute('VAULT GET "secret"', {
  identity: 'service:backend',
});
</code></pre>
<h3 id="streaming-query"><a class="header" href="#streaming-query">Streaming Query</a></h3>
<p>For large result sets, use streaming to receive results incrementally:</p>
<pre><code class="language-typescript">for await (const chunk of client.executeStream('SELECT large_table')) {
  if (chunk.type === 'rows') {
    for (const row of chunk.rows) {
      console.log(rowToObject(row));
    }
  }
}
</code></pre>
<h3 id="batch-query"><a class="header" href="#batch-query">Batch Query</a></h3>
<p>Execute multiple queries in a single request:</p>
<pre><code class="language-typescript">const results = await client.executeBatch([
  'CREATE TABLE orders (id:int, total:float)',
  'INSERT orders id=1, total=99.99',
  'SELECT orders',
]);

for (const result of results) {
  console.log(result.type);
}
</code></pre>
<h2 id="query-result-types"><a class="header" href="#query-result-types">Query Result Types</a></h2>
<p>The <code>QueryResult</code> type is a discriminated union. Use the <code>type</code> field to
determine which result type you have:</p>
<div class="table-wrapper"><table><thead><tr><th>Type</th><th>Fields</th><th>Description</th></tr></thead><tbody>
<tr><td><code>'empty'</code></td><td>-</td><td>No result (DDL operations)</td></tr>
<tr><td><code>'value'</code></td><td><code>value: string</code></td><td>Single value result</td></tr>
<tr><td><code>'count'</code></td><td><code>count: number</code></td><td>Row count</td></tr>
<tr><td><code>'rows'</code></td><td><code>rows: Row[]</code></td><td>Relational query rows</td></tr>
<tr><td><code>'nodes'</code></td><td><code>nodes: Node[]</code></td><td>Graph nodes</td></tr>
<tr><td><code>'edges'</code></td><td><code>edges: Edge[]</code></td><td>Graph edges</td></tr>
<tr><td><code>'paths'</code></td><td><code>paths: Path[]</code></td><td>Graph paths</td></tr>
<tr><td><code>'similar'</code></td><td><code>items: SimilarItem[]</code></td><td>Vector similarity results</td></tr>
<tr><td><code>'ids'</code></td><td><code>ids: string[]</code></td><td>List of IDs</td></tr>
<tr><td><code>'tableList'</code></td><td><code>names: string[]</code></td><td>Table names</td></tr>
<tr><td><code>'blob'</code></td><td><code>data: Uint8Array</code></td><td>Binary blob data</td></tr>
<tr><td><code>'blobInfo'</code></td><td><code>info: ArtifactInfo</code></td><td>Blob metadata</td></tr>
<tr><td><code>'error'</code></td><td><code>code: number, message: string</code></td><td>Error response</td></tr>
</tbody></table>
</div>
<h3 id="type-guards"><a class="header" href="#type-guards">Type Guards</a></h3>
<p>Use the provided type guards for type-safe result handling:</p>
<pre><code class="language-typescript">import {
  isRowsResult,
  isNodesResult,
  isErrorResult,
  rowToObject,
} from '@neumann/client';

const result = await client.execute('SELECT users');

if (isErrorResult(result)) {
  console.error(`Error ${result.code}: ${result.message}`);
} else if (isRowsResult(result)) {
  for (const row of result.rows) {
    console.log(rowToObject(row));
  }
}
</code></pre>
<h3 id="result-pattern-matching"><a class="header" href="#result-pattern-matching">Result Pattern Matching</a></h3>
<pre><code class="language-typescript">const result = await client.execute(query);

switch (result.type) {
  case 'empty':
    console.log('OK');
    break;
  case 'count':
    console.log(`${result.count} rows affected`);
    break;
  case 'rows':
    console.table(result.rows.map(rowToObject));
    break;
  case 'nodes':
    result.nodes.forEach((n) =&gt; console.log(`[${n.id}] ${n.label}`));
    break;
  case 'similar':
    result.items.forEach((s) =&gt; console.log(`${s.key}: ${s.score.toFixed(4)}`));
    break;
  case 'error':
    throw new Error(result.message);
}
</code></pre>
<h2 id="value-types"><a class="header" href="#value-types">Value Types</a></h2>
<p>Values use a tagged union pattern for type safety:</p>
<pre><code class="language-typescript">import {
  Value,
  nullValue,
  intValue,
  floatValue,
  stringValue,
  boolValue,
  bytesValue,
  valueToNative,
  valueFromNative,
} from '@neumann/client';

// Create typed values
const v1: Value = nullValue();
const v2: Value = intValue(42);
const v3: Value = floatValue(3.14);
const v4: Value = stringValue('hello');
const v5: Value = boolValue(true);
const v6: Value = bytesValue(new Uint8Array([1, 2, 3]));

// Convert to native JavaScript types
const native = valueToNative(v2); // 42

// Create from native values (auto-detects type)
const auto = valueFromNative(42); // { type: 'int', data: 42 }
</code></pre>
<h2 id="conversion-utilities"><a class="header" href="#conversion-utilities">Conversion Utilities</a></h2>
<h3 id="row-conversion"><a class="header" href="#row-conversion">Row Conversion</a></h3>
<pre><code class="language-typescript">import { rowToObject } from '@neumann/client';

const result = await client.execute('SELECT users');
if (result.type === 'rows') {
  const objects = result.rows.map(rowToObject);
  // [{ name: 'Alice', age: 30 }, { name: 'Bob', age: 25 }]
}
</code></pre>
<h3 id="node-conversion"><a class="header" href="#node-conversion">Node Conversion</a></h3>
<pre><code class="language-typescript">import { nodeToObject } from '@neumann/client';

const result = await client.execute('NODE LIST');
if (result.type === 'nodes') {
  const objects = result.nodes.map(nodeToObject);
  // [{ id: '1', label: 'person', properties: { name: 'Alice' } }]
}
</code></pre>
<h3 id="edge-conversion"><a class="header" href="#edge-conversion">Edge Conversion</a></h3>
<pre><code class="language-typescript">import { edgeToObject } from '@neumann/client';

const result = await client.execute('EDGE LIST');
if (result.type === 'edges') {
  const objects = result.edges.map(edgeToObject);
  // [{ id: '1', type: 'knows', source: '1', target: '2', properties: {} }]
}
</code></pre>
<h2 id="error-handling"><a class="header" href="#error-handling">Error Handling</a></h2>
<h3 id="error-codes"><a class="header" href="#error-codes">Error Codes</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Code</th><th>Name</th><th>Description</th></tr></thead><tbody>
<tr><td>0</td><td><code>UNKNOWN</code></td><td>Unknown error</td></tr>
<tr><td>1</td><td><code>INVALID_ARGUMENT</code></td><td>Bad request data</td></tr>
<tr><td>2</td><td><code>NOT_FOUND</code></td><td>Resource not found</td></tr>
<tr><td>3</td><td><code>PERMISSION_DENIED</code></td><td>Access denied</td></tr>
<tr><td>4</td><td><code>ALREADY_EXISTS</code></td><td>Resource already exists</td></tr>
<tr><td>5</td><td><code>UNAUTHENTICATED</code></td><td>Authentication failed</td></tr>
<tr><td>6</td><td><code>UNAVAILABLE</code></td><td>Server unavailable</td></tr>
<tr><td>7</td><td><code>INTERNAL</code></td><td>Internal server error</td></tr>
<tr><td>8</td><td><code>PARSE_ERROR</code></td><td>Query parse error</td></tr>
<tr><td>9</td><td><code>QUERY_ERROR</code></td><td>Query execution error</td></tr>
</tbody></table>
</div>
<h3 id="error-classes"><a class="header" href="#error-classes">Error Classes</a></h3>
<pre><code class="language-typescript">import {
  NeumannError,
  ConnectionError,
  AuthenticationError,
  PermissionDeniedError,
  NotFoundError,
  InvalidArgumentError,
  ParseError,
  QueryError,
  InternalError,
  errorFromCode,
} from '@neumann/client';

try {
  await client.execute('SELECT nonexistent');
} catch (e) {
  if (e instanceof ConnectionError) {
    console.error('Connection failed:', e.message);
  } else if (e instanceof AuthenticationError) {
    console.error('Auth failed - check API key');
  } else if (e instanceof ParseError) {
    console.error('Query syntax error:', e.message);
  } else if (e instanceof NeumannError) {
    console.error(`[${e.code}] ${e.message}`);
  }
}
</code></pre>
<h3 id="error-factory"><a class="header" href="#error-factory">Error Factory</a></h3>
<p>Create errors from numeric codes:</p>
<pre><code class="language-typescript">import { errorFromCode, ErrorCode } from '@neumann/client';

const error = errorFromCode(ErrorCode.NOT_FOUND, 'Table not found');
// Returns NotFoundError instance
</code></pre>
<h2 id="client-lifecycle"><a class="header" href="#client-lifecycle">Client Lifecycle</a></h2>
<pre><code class="language-typescript">// Create client
const client = await NeumannClient.connect('localhost:9200');

// Check connection status
console.log(client.isConnected); // true
console.log(client.clientMode); // 'remote'

// Execute queries
const result = await client.execute('SELECT users');

// Close connection when done
client.close();
console.log(client.isConnected); // false
</code></pre>
<h2 id="usage-examples"><a class="header" href="#usage-examples">Usage Examples</a></h2>
<h3 id="complete-crud-example"><a class="header" href="#complete-crud-example">Complete CRUD Example</a></h3>
<pre><code class="language-typescript">import { NeumannClient, isRowsResult, rowToObject } from '@neumann/client';

async function main() {
  const client = await NeumannClient.connect('localhost:9200', {
    apiKey: process.env.NEUMANN_API_KEY,
  });

  try {
    // Create table
    await client.execute('CREATE TABLE products (name:string, price:float)');

    // Insert data
    await client.execute('INSERT products name="Widget", price=9.99');
    await client.execute('INSERT products name="Gadget", price=19.99');

    // Query data
    const result = await client.execute('SELECT products WHERE price &gt; 10');

    if (isRowsResult(result)) {
      const products = result.rows.map(rowToObject);
      console.log('Products over $10:', products);
    }

    // Update data
    await client.execute('UPDATE products SET price=24.99 WHERE name="Gadget"');

    // Delete data
    await client.execute('DELETE products WHERE price &lt; 15');

    // Drop table
    await client.execute('DROP TABLE products');
  } finally {
    client.close();
  }
}
</code></pre>
<h3 id="graph-operations"><a class="header" href="#graph-operations">Graph Operations</a></h3>
<pre><code class="language-typescript">const client = await NeumannClient.connect('localhost:9200');

// Create nodes
await client.execute('NODE CREATE person {name: "Alice", age: 30}');
await client.execute('NODE CREATE person {name: "Bob", age: 25}');

// Create edge
await client.execute('EDGE CREATE 1 -&gt; 2 : knows {since: 2020}');

// Query nodes
const nodes = await client.execute('NODE LIST person');
if (nodes.type === 'nodes') {
  nodes.nodes.forEach((n) =&gt; {
    console.log(`[${n.id}] ${n.label}:`, nodeToObject(n).properties);
  });
}

// Find path
const path = await client.execute('PATH 1 -&gt; 2');
if (path.type === 'paths' &amp;&amp; path.paths.length &gt; 0) {
  const nodeIds = path.paths[0].segments.map((s) =&gt; s.node.id);
  console.log('Path:', nodeIds.join(' -&gt; '));
}
</code></pre>
<h3 id="vector-similarity-search"><a class="header" href="#vector-similarity-search">Vector Similarity Search</a></h3>
<pre><code class="language-typescript">const client = await NeumannClient.connect('localhost:9200');

// Store embeddings
await client.execute('EMBED STORE "doc1" [0.1, 0.2, 0.3, 0.4]');
await client.execute('EMBED STORE "doc2" [0.15, 0.25, 0.35, 0.45]');
await client.execute('EMBED STORE "doc3" [0.9, 0.8, 0.7, 0.6]');

// Find similar
const result = await client.execute('SIMILAR "doc1" COSINE LIMIT 2');
if (result.type === 'similar') {
  result.items.forEach((item) =&gt; {
    console.log(`${item.key}: ${item.score.toFixed(4)}`);
  });
}
</code></pre>
<h3 id="browser-usage-with-react"><a class="header" href="#browser-usage-with-react">Browser Usage with React</a></h3>
<pre><code class="language-typescript">import { useState, useEffect } from 'react';
import { NeumannClient, QueryResult } from '@neumann/client';

function useNeumannQuery(query: string) {
  const [result, setResult] = useState&lt;QueryResult | null&gt;(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState&lt;Error | null&gt;(null);

  useEffect(() =&gt; {
    let cancelled = false;

    async function fetchData() {
      try {
        const client = await NeumannClient.connectWeb('/api/neumann');
        const data = await client.execute(query);
        if (!cancelled) {
          setResult(data);
          setLoading(false);
        }
        client.close();
      } catch (e) {
        if (!cancelled) {
          setError(e as Error);
          setLoading(false);
        }
      }
    }

    fetchData();
    return () =&gt; {
      cancelled = true;
    };
  }, [query]);

  return { result, loading, error };
}
</code></pre>
<h2 id="proto-conversion"><a class="header" href="#proto-conversion">Proto Conversion</a></h2>
<p>The SDK includes utilities for converting protobuf messages to typed objects:</p>
<div class="table-wrapper"><table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody>
<tr><td><code>convertProtoValue</code></td><td>Convert proto Value to typed Value</td></tr>
<tr><td><code>convertProtoRow</code></td><td>Convert proto Row to Row</td></tr>
<tr><td><code>convertProtoNode</code></td><td>Convert proto Node to Node</td></tr>
<tr><td><code>convertProtoEdge</code></td><td>Convert proto Edge to Edge</td></tr>
<tr><td><code>convertProtoPath</code></td><td>Convert proto Path to Path</td></tr>
<tr><td><code>convertProtoSimilarItem</code></td><td>Convert proto SimilarItem to SimilarItem</td></tr>
<tr><td><code>convertProtoArtifactInfo</code></td><td>Convert proto ArtifactInfo to ArtifactInfo</td></tr>
</tbody></table>
</div>
<p>These are used internally but exported for custom integrations.</p>
<h2 id="dependencies"><a class="header" href="#dependencies">Dependencies</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Package</th><th>Purpose</th><th>Environment</th></tr></thead><tbody>
<tr><td><code>@grpc/grpc-js</code></td><td>gRPC client</td><td>Node.js</td></tr>
<tr><td><code>grpc-web</code></td><td>gRPC-Web client</td><td>Browser</td></tr>
</tbody></table>
</div>
<p>The SDK uses dynamic imports to load the appropriate gRPC library based on the
connection method used.</p>
<h2 id="related-modules"><a class="header" href="#related-modules">Related Modules</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Module</th><th>Relationship</th></tr></thead><tbody>
<tr><td><code>neumann_server</code></td><td>Server that this SDK connects to</td></tr>
<tr><td><code>neumann_client</code></td><td>Rust SDK with same capabilities</td></tr>
<tr><td><code>neumann-py</code></td><td>Python SDK with same API design</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../architecture/neumann-client.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../architecture/neumann-py.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../architecture/neumann-client.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../architecture/neumann-py.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../editor.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../mermaid.min.js"></script>
        <script src="../mermaid-init.js"></script>



    </div>
    </body>
</html>
