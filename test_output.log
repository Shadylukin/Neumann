    Blocking waiting for file lock on build directory
    Finished `test` profile [unoptimized + debuginfo] target(s) in 5.42s
     Running unittests src/lib.rs (target/debug/deps/tensor_chain-0091e7770622d69c)

running 1826 tests
test atomic_io::tests::test_atomic_io_error_display ... ok
test atomic_io::tests::test_atomic_io_error_from_io ... ok
test atomic_io::tests::test_atomic_io_error_into_io_error ... ok
test atomic_io::tests::test_atomic_write_no_parent_error ... ok
test atomic_io::tests::test_atomic_truncate_nonexistent_file ... ok
test atomic_io::tests::test_atomic_write_empty ... ok
test atomic_io::tests::test_atomic_writer_abort ... ok
test atomic_io::tests::test_atomic_write_large_data ... ok
test atomic_io::tests::test_atomic_write_binary_data ... ok
test atomic_io::tests::test_atomic_write_basic ... ok
test atomic_io::tests::test_atomic_write_creates_parent_dirs ... ok
test atomic_io::tests::test_atomic_writer_double_drop_safe ... ok
test atomic_io::tests::test_atomic_write_overwrites ... ok
test atomic_io::tests::test_atomic_writer_new_no_parent_error ... ok
test atomic_io::tests::test_atomic_writer_flush_after_abort ... ok
test atomic_io::tests::test_atomic_truncate ... ok
test atomic_io::tests::test_atomic_writer_commit ... ok
test atomic_io::tests::test_atomic_writer_drop_cleanup ... ok
test atomic_io::tests::test_error_no_parent_dir ... ok
test atomic_io::tests::test_atomic_writer_commit_without_write ... ok
test atomic_io::tests::test_temp_path_with_no_filename ... ok
test atomic_io::tests::test_atomic_writer_flush ... ok
test block::tests::test_block_affected_keys ... ok
test block::tests::test_block_add_signature ... ok
test block::tests::test_block_chain_verification ... ok
test block::tests::test_block_chain_verification_fails_on_wrong_prev_hash ... ok
test block::tests::test_block_compute_tx_root_empty ... ok
test block::tests::test_block_compute_tx_root_with_transactions ... ok
test block::tests::test_block_clone_and_eq ... ok
test block::tests::test_block_hash_deterministic ... ok
test block::tests::test_block_hash_uses_header_hash ... ok
test block::tests::test_block_header_builder_chaining ... ok
test block::tests::test_block_header_clone_and_eq ... ok
test block::tests::test_block_header_debug ... ok
test block::tests::test_block_debug ... ok
test block::tests::test_block_header_with_codes ... ok
test block::tests::test_block_header_hash_includes_embedding_and_codes ... ok
test block::tests::test_block_header_with_dense_embedding ... ok
test block::tests::test_block_header_with_embedding ... ok
test block::tests::test_block_header_with_signature ... ok
test block::tests::test_block_verify_tx_root ... ok
test block::tests::test_block_reject_duplicate_signer ... ok
test block::tests::test_block_verify_tx_root_fails_on_mismatch ... ok
test block::tests::test_genesis_block ... ok
test block::tests::test_merkle_root_empty ... ok
test block::tests::test_merkle_root ... ok
test block::tests::test_merkle_root_odd_number ... ok
test block::tests::test_merkle_root_power_of_two ... ok
test block::tests::test_merkle_root_single_leaf ... ok
test block::tests::test_merkle_root_two_leaves ... ok
test block::tests::test_multiple_signatures ... ok
test atomic_io::tests::test_atomic_writer_creates_nested_dirs ... ok
test block::tests::test_transaction_affected_key ... ok
test block::tests::test_transaction_clone_and_eq ... ok
test block::tests::test_transaction_debug ... ok
test block::tests::test_transaction_delete_affected_key ... ok
test block::tests::test_transaction_embed_affected_key ... ok
test block::tests::test_transaction_hash_deterministic ... ok
test block::tests::test_transaction_hash_different_for_different_tx ... ok
test block::tests::test_transaction_node_create_affected_key ... ok
test block::tests::test_transaction_node_delete_affected_key ... ok
test block::tests::test_transaction_table_delete_affected_key ... ok
test block::tests::test_transaction_table_insert_affected_key ... ok
test block::tests::test_transaction_table_update_affected_key ... ok
test block::tests::test_validator_signature_clone_and_eq ... ok
test block::tests::test_signing_bytes_different_for_different_headers ... ok
test block::tests::test_signing_bytes_deterministic ... ok
test block::tests::test_verify_chain_error_message_format ... ok
test block::tests::test_verify_chain_fails_on_timestamp_before_previous ... ok
test block::tests::test_verify_chain_fails_on_wrong_height ... ok
test block::tests::test_validator_signature_debug ... ok
test block::tests::test_verify_signature_missing ... ok
test block::tests::test_verify_signature_unknown_proposer ... ok
test block::tests::test_verify_signature_invalid_signature ... ok
test block::tests::test_verify_signature_valid ... ok
test block::tests::test_verify_signature_tampered_header ... ok
test chain::tests::test_append_computes_tx_root ... ok
test chain::tests::test_append_block ... ok
test chain::tests::test_append_multiple_blocks ... ok
test chain::tests::test_block_builder ... ok
test chain::tests::test_block_builder_add_transactions ... ok
test chain::tests::test_chain_append_sequential_heights ... ok
test chain::tests::test_chain_get_blocks_range ... ok
test chain::tests::test_chain_get_tip ... ok
test chain::tests::test_chain_get_blocks_range_partial ... ok
test chain::tests::test_chain_history ... ok
test atomic_io::tests::test_atomic_write_same_file_concurrent ... ok
test chain::tests::test_chain_is_empty ... ok
test chain::tests::test_chain_initialization ... ok
test chain::tests::test_get_block_at_nonexistent ... ok
test chain::tests::test_chain_iterator ... ok
test chain::tests::test_chain_iterator_handles_all_heights ... ok
test chain::tests::test_concurrent_append_serialization ... ok
test chain::tests::test_invalid_block_height ... ok
test chain::tests::test_invalid_prev_hash ... ok
test chain::tests::test_history_no_matches ... ok
test chain::tests::test_tip_hash_updates ... ok
test chain::tests::test_reinitialize_existing_chain ... ok
test cluster::tests::test_fast_path_threshold_clamping ... ok
test chain::tests::test_verify_chain_empty ... ok
test chain::tests::test_verify_chain_with_blocks ... ok
test cluster::tests::test_handle_tx_abort_ignored_when_not_participant ... ok
test cluster::tests::test_dtx_accessors ... ok
test cluster::tests::test_handle_query_request_without_executor ... ok
test cluster::tests::test_handle_query_request_with_executor ... ok
test cluster::tests::test_handle_tx_commit_ignored_when_not_participant ... ok
test cluster::tests::test_handle_tx_abort_returns_ack ... ok
test cluster::tests::test_handle_tx_commit_returns_ack ... ok
test cluster::tests::test_handler_timeout_config_new ... ok
test cluster::tests::test_local_node_config ... ok
test cluster::tests::test_local_node_config_debug ... ok
test cluster::tests::test_local_node_config_defaults ... ok
test cluster::tests::test_orchestrator_config_builders ... ok
test cluster::tests::test_handle_tx_prepare_votes_yes_when_no_conflict ... ok
test cluster::tests::test_orchestrator_config_chained_builders ... ok
test cluster::tests::test_orchestrator_config_debug ... ok
test cluster::tests::test_orchestrator_config_default ... ok
test cluster::tests::test_orchestrator_config_with_delta_replication ... ok
test cluster::tests::test_orchestrator_config_with_dtx ... ok
test cluster::tests::test_orchestrator_config_with_gossip_custom_interval ... ok
test cluster::tests::test_orchestrator_config_with_peers ... ok
test cluster::tests::test_handle_tx_prepare_votes_conflict_when_locked ... ok
test cluster::tests::test_orchestrator_accessors ... ok
test cluster::tests::test_peer_config ... ok
test cluster::tests::test_peer_config_construction ... ok
test cluster::tests::test_peer_config_debug ... ok
test cluster::tests::test_orchestrator_start_single_node ... ok
test cluster::tests::test_peer_connection_failure_non_blocking ... ok
test cluster::tests::test_run_loop_cleanup_interval ... ok
test cluster::tests::test_run_loop_gossip_interval ... ok
test cluster::tests::test_orchestrator_with_peers ... ok
test atomic_io::tests::test_atomic_writer_multiple_writes ... ok
test cluster::tests::test_run_loop_raft_tick_interval ... ok
test atomic_io::tests::test_atomic_writer_write_returns_bytes_written ... ok
test atomic_io::tests::test_no_temp_files_after_success ... ok
test atomic_io::tests::test_atomic_writer_preserves_existing_on_abort ... ok
test cluster::tests::test_run_loop_shutdown_signal_graceful_exit ... ok
test cluster::tests::test_run_loop_handles_gossip_message ... ok
test atomic_io::tests::test_atomic_writer_write_after_commit ... ok
test atomic_io::tests::test_concurrent_atomic_writes ... ok
test cluster::tests::test_run_loop_updates_local_embedding_from_state_machine ... ok
test cluster::tests::test_send_query_network_error_propagates ... ok
test cluster::tests::test_run_loop_routes_raft_messages ... ok
test cluster::tests::test_send_query_timeout_returns_error ... ok
test cluster::tests::test_orchestrator_run_with_shutdown ... ok
test cluster::tests::test_run_loop_continues_on_message_send_failure ... ok
test codebook::tests::test_codebook_config_default ... ok
test cluster::tests::test_start_transport_failure_returns_error ... ok
test codebook::tests::test_codebook_entry ... ok
test codebook::tests::test_codebook_entry_centroid_accessor ... ok
test codebook::tests::test_codebook_entry_cosine_zero_magnitude ... ok
test codebook::tests::test_codebook_entry_ema_update ... ok
test codebook::tests::test_codebook_entry_with_label ... ok
test codebook::tests::test_codebook_manager ... ok
test codebook::tests::test_codebook_manager_global_accessor ... ok
test codebook::tests::test_codebook_manager_is_valid_transition ... ok
test codebook::tests::test_codebook_manager_quantize_empty_global ... ok
test codebook::tests::test_codebook_manager_quantize_with_residual ... ok
test codebook::tests::test_get_or_create_local ... ok
test codebook::tests::test_global_codebook_compute_residual_empty ... ok
test codebook::tests::test_global_codebook_empty ... ok
test codebook::tests::test_global_codebook_from_centroids_with_labels ... ok
test codebook::tests::test_global_codebook_get ... ok
test codebook::tests::test_global_codebook_is_valid_state ... ok
test codebook::tests::test_global_codebook_iter ... ok
test codebook::tests::test_global_codebook_kmeans ... ok
test codebook::tests::test_global_codebook_kmeans_convergence ... ok
test codebook::tests::test_global_codebook_kmeans_empty ... ok
test codebook::tests::test_global_codebook_quantize ... ok
test codebook::tests::test_global_codebook_residual ... ok
test codebook::tests::test_hierarchical_quantization_debug ... ok
test codebook::tests::test_kmeans_plusplus_all_same ... ok
test codebook::tests::test_local_codebook ... ok
test codebook::tests::test_local_codebook_dimension ... ok
test codebook::tests::test_local_codebook_ema_update_nonexistent ... ok
test codebook::tests::test_local_codebook_insert_pruning ... ok
test codebook::tests::test_local_codebook_is_valid_state ... ok
test codebook::tests::test_local_codebook_persists_across_calls ... ok
test codebook::tests::test_local_codebook_pruning ... ok
test codebook::tests::test_local_codebook_quantize_empty ... ok
test codebook::tests::test_local_codebook_stats ... ok
test codebook::tests::test_local_codebook_stats_debug ... ok
test codebook::tests::test_pruning_strategy_default ... ok
test codebook::tests::test_pruning_strategy_lfu ... ok
test codebook::tests::test_codebook_entry_accessors ... ok
test codebook::tests::test_quantize_validates_dimension ... ok
test codebook::tests::test_validity_check ... ok
test codebook::tests::test_with_local_creates_and_persists ... ok
test consensus::tests::test_ambiguous_with_key_overlap ... ok
test consensus::tests::test_batch_conflict_contains_indices ... ok
test consensus::tests::test_batch_conflict_debug_clone ... ok
test consensus::tests::test_batch_detect_conflicts_all_orthogonal ... ok
test consensus::tests::test_batch_detect_conflicts_empty ... ok
test consensus::tests::test_batch_detect_conflicts_with_conflicts ... ok
test consensus::tests::test_conflict_class_can_merge_all ... ok
test consensus::tests::test_conflict_class_serde ... ok
test consensus::tests::test_conflict_class_should_reject_all ... ok
test consensus::tests::test_conflict_detection_conflicting ... ok
test consensus::tests::test_conflict_detection_identical ... ok
test consensus::tests::test_conflict_detection_opposite ... ok
test consensus::tests::test_conflict_detection_orthogonal ... ok
test consensus::tests::test_conflict_result_debug_clone ... ok
test consensus::tests::test_consensus_config_debug_clone ... ok
test consensus::tests::test_consensus_manager_default_impl ... ok
test consensus::tests::test_consensus_manager_delta_to_vector ... ok
test consensus::tests::test_cosine_similarity ... ok
test consensus::tests::test_delta_vector_cosine_similarity_zero_magnitude ... ok
test consensus::tests::test_delta_vector_creation ... ok
test consensus::tests::test_delta_vector_from_states ... ok
test consensus::tests::test_delta_vector_overlaps_with ... ok
test consensus::tests::test_delta_vector_project_non_conflicting_zero_direction ... ok
test consensus::tests::test_delta_vector_scale ... ok
test consensus::tests::test_delta_vector_serde ... ok
test consensus::tests::test_delta_vector_weighted_average_zero_weights ... ok
test consensus::tests::test_delta_vector_zero ... ok
test consensus::tests::test_find_merge_order ... ok
test consensus::tests::test_find_merge_order_empty ... ok
test consensus::tests::test_find_merge_order_single ... ok
test codebook::tests::test_pruning_strategy_lru ... ok
test consensus::tests::test_find_merge_order_two ... ok
test consensus::tests::test_find_orthogonal_set_all_orthogonal ... ok
test consensus::tests::test_find_orthogonal_set_with_conflicts ... ok
test consensus::tests::test_low_conflict_no_key_overlap ... ok
test consensus::tests::test_merge_action_serde ... ok
test consensus::tests::test_merge_all_empty ... ok
test consensus::tests::test_merge_all_single ... ok
test consensus::tests::test_merge_all ... ok
test consensus::tests::test_merge_all_with_failure ... ok
test consensus::tests::test_merge_conflicting_rejected ... ok
test consensus::tests::test_merge_deduplicate ... ok
test consensus::tests::test_merge_opposite ... ok
test consensus::tests::test_merge_orthogonal ... ok
test consensus::tests::test_merge_result_debug_clone ... ok
test consensus::tests::test_merge_with_weighted_average ... ok
test consensus::tests::test_project_non_conflicting ... ok
test consensus::tests::test_vector_add ... ok
test consensus::tests::test_weighted_average ... ok
test deadlock::tests::test_config_builder ... ok
test deadlock::tests::test_config_default ... ok
test deadlock::tests::test_deadlock_info ... ok
test deadlock::tests::test_config_disabled ... ok
test deadlock::tests::test_detector_detect_cycle ... ok
test deadlock::tests::test_detector_disabled ... ok
test deadlock::tests::test_detector_empty_cycle ... ok
test deadlock::tests::test_detector_new ... ok
test deadlock::tests::test_detector_max_cycle_length_filter ... ok
test deadlock::tests::test_detector_no_deadlock ... ok
test deadlock::tests::test_detector_single_node_cycle ... ok
test deadlock::tests::test_detector_victim_selection_lowest_priority ... ok
test deadlock::tests::test_detector_stats_updated ... ok
test deadlock::tests::test_detector_victim_selection_most_locks ... ok
test deadlock::tests::test_detector_victim_selection_oldest ... ok
test deadlock::tests::test_stats_new ... ok
test deadlock::tests::test_detector_victim_selection_youngest ... ok
test deadlock::tests::test_stats_record_detection ... ok
test deadlock::tests::test_stats_record_victim_abort ... ok
test deadlock::tests::test_stats_update_max_cycle ... ok
test deadlock::tests::test_wait_for_graph_add_wait ... ok
test deadlock::tests::test_victim_policy_serialization ... ok
test deadlock::tests::test_wait_for_graph_add_wait_with_priority ... ok
test deadlock::tests::test_wait_for_graph_clear ... ok
test deadlock::tests::test_wait_for_graph_detect_multi_node_cycle ... ok
test deadlock::tests::test_wait_for_graph_detect_simple_cycle ... ok
test deadlock::tests::test_wait_for_graph_concurrent_access ... ok
test deadlock::tests::test_wait_for_graph_new ... ok
test deadlock::tests::test_wait_for_graph_no_cycle ... ok
test deadlock::tests::test_wait_for_graph_remove_transaction ... ok
test deadlock::tests::test_wait_for_graph_remove_wait ... ok
test deadlock::tests::test_wait_for_graph_self_wait_ignored ... ok
test deadlock::tests::test_wait_for_graph_transaction_count ... ok
test deadlock::tests::test_wait_for_graph_waiting_for_and_on ... ok
test deadlock::tests::test_wait_for_graph_would_create_cycle ... ok
test deadlock::tests::test_wait_info ... ok
test delta_replication::tests::test_apply_batch_rejects_invalid_checksum ... ok
test delta_replication::tests::test_apply_batch_missing_archetype ... ok
test delta_replication::tests::test_batch_avg_compression_ratio_empty ... ok
test delta_replication::tests::test_batch_checksum_serialization_roundtrip ... ok
test delta_replication::tests::test_batch_memory_bytes ... ok
test delta_replication::tests::test_batch_sequence_increments ... ok
test delta_replication::tests::test_batch_serialization_roundtrip ... ok
test delta_replication::tests::test_checksum_serialization_roundtrip ... ok
test delta_replication::tests::test_config_default ... ok
test delta_replication::tests::test_create_batch_empty ... ok
test delta_replication::tests::test_compression_ratio_zero_dimension ... ok
test delta_replication::tests::test_create_batch_with_is_final_true ... ok
test delta_replication::tests::test_decode_delta_index_out_of_bounds ... ok
test delta_replication::tests::test_decode_delta_with_valid_archetype ... ok
test delta_replication::tests::test_decode_index_out_of_bounds ... ok
test delta_replication::tests::test_delta_batch ... ok
test delta_replication::tests::test_delta_batch_compression ... ok
test delta_replication::tests::test_delta_batch_checksum_compute ... ok
test delta_replication::tests::test_delta_batch_debug_clone ... ok
test delta_replication::tests::test_delta_batch_is_empty ... ok
test delta_replication::tests::test_delta_batch_verify_invalid_update ... ok
test delta_replication::tests::test_delta_batch_verify_invalid_batch_checksum ... ok
test delta_replication::tests::test_delta_batch_with_checksum_adds_to_all_updates ... ok
test delta_replication::tests::test_delta_batch_verify_valid ... ok
test delta_replication::tests::test_delta_replication_config_debug_clone ... ok
test delta_replication::tests::test_delta_update_checksum ... ok
test delta_replication::tests::test_delta_update_checksum_verify_invalid ... ok
test delta_replication::tests::test_delta_update_checksum_compute ... ok
test delta_replication::tests::test_delta_update_checksum_verify_legacy ... ok
test delta_replication::tests::test_delta_update_checksum_verify_valid ... ok
test delta_replication::tests::test_delta_update_compression_ratio ... ok
test delta_replication::tests::test_delta_update_debug_clone ... ok
test delta_replication::tests::test_delta_update_decode ... ok
test delta_replication::tests::test_delta_update_decode_full ... ok
test delta_replication::tests::test_delta_update_from_embedding ... ok
test delta_replication::tests::test_delta_update_is_full_update ... ok
test delta_replication::tests::test_delta_update_full ... ok
test delta_replication::tests::test_effective_compression ... ok
test delta_replication::tests::test_delta_update_memory_bytes ... ok
test delta_replication::tests::test_effective_compression_zero_sent ... ok
test delta_replication::tests::test_flush_empty ... ok
test delta_replication::tests::test_from_embedding_no_archetype ... ok
test delta_replication::tests::test_manager_apply_batch ... ok
test delta_replication::tests::test_manager_archetype_sync ... ok
test delta_replication::tests::test_manager_create_batch ... ok
test delta_replication::tests::test_manager_debug ... ok
test delta_replication::tests::test_manager_flush ... ok
test delta_replication::tests::test_manager_new ... ok
test delta_replication::tests::test_manager_queue_full_returns_error ... ok
test delta_replication::tests::test_manager_queue_update ... ok
test delta_replication::tests::test_manager_registry_accessor ... ok
test delta_replication::tests::test_manager_with_archetypes ... ok
test delta_replication::tests::test_manager_shared_registry ... ok
test delta_replication::tests::test_queue_update_low_similarity_fallback ... ok
test delta_replication::tests::test_replication_stats ... ok
test delta_replication::tests::test_replication_stats_snapshot ... ok
test delta_replication::tests::test_replication_stats_multiple_batches ... ok
test delta_replication::tests::test_serialization_roundtrip ... ok
test delta_replication::tests::test_stats_increment_decrement_queue_depth ... ok
test delta_replication::tests::test_stats_record_auto_drain ... ok
test delta_replication::tests::test_stats_set_queue_depth ... ok
test distributed_tx::tests::test_abort_ack_cleanup_on_complete ... ok
test distributed_tx::tests::test_abort_ack_removes_shard ... ok
test distributed_tx::tests::test_abort_flow ... ok
test distributed_tx::tests::test_abort_not_found ... ok
test distributed_tx::tests::test_abort_cleans_wait_graph ... ok
test distributed_tx::tests::test_abort_releases_locks ... ok
test distributed_tx::tests::test_abort_request_debug ... ok
test distributed_tx::tests::test_abort_state_fields ... ok
test distributed_tx::tests::test_abort_state_tracking ... ok
test distributed_tx::tests::test_begin_max_concurrent_atomic ... ok
test distributed_tx::tests::test_begin_max_concurrent_race_prevented ... ok
test distributed_tx::tests::test_cleanup_expired_removes_from_tx_locks ... ok
test distributed_tx::tests::test_begin_wal_atomic_with_pending ... ok
test distributed_tx::tests::test_cleanup_timeouts_releases_locks ... ok
test distributed_tx::tests::test_commit_cleans_wait_graph ... ok
test distributed_tx::tests::test_commit_flow ... ok
test distributed_tx::tests::test_commit_not_found ... ok
test distributed_tx::tests::test_commit_not_prepared ... ok
test distributed_tx::tests::test_commit_request_debug ... ok
test distributed_tx::tests::test_coordinator_begin ... ok
test distributed_tx::tests::test_coordinator_cleanup_timeouts ... ok
test distributed_tx::tests::test_cleanup_expired_with_wait_cleanup ... ok
test distributed_tx::tests::test_coordinator_clear_persisted_state_returns_result ... ok
test distributed_tx::tests::test_coordinator_lock_manager_accessor ... ok
test distributed_tx::tests::test_coordinator_max_concurrent ... ok
test distributed_tx::tests::test_coordinator_recover_aborting_retry ... ok
test distributed_tx::tests::test_coordinator_recover_committing_retry ... ok
test distributed_tx::tests::test_coordinator_recover_from_wal_no_wal ... ok
test distributed_tx::tests::test_coordinator_clear_persisted_state ... ok
test distributed_tx::tests::test_coordinator_recover_removes_completed ... ok
test distributed_tx::tests::test_coordinator_recover_prepared_to_commit ... ok
test distributed_tx::tests::test_coordinator_save_load_all_phases ... ok
test distributed_tx::tests::test_coordinator_save_load_empty_state ... ok
test distributed_tx::tests::test_coordinator_save_load_with_pending_transactions ... ok
test distributed_tx::tests::test_coordinator_state_accessors ... ok
test distributed_tx::tests::test_coordinator_state_serialize_deserialize_roundtrip ... ok
test distributed_tx::tests::test_coordinator_stats_accessor ... ok
test distributed_tx::tests::test_coordinator_to_state ... ok
test distributed_tx::tests::test_coordinator_to_state_and_restore ... ok
test cluster::tests::test_run_loop_records_peer_embeddings ... ok
test cluster::tests::test_send_query_wrong_query_id_ignored ... ok
test cluster::tests::test_run_loop_handles_query_request_message ... ok
test distributed_tx::tests::test_coordinator_with_wal_logs_abort ... ok
test cluster::tests::test_run_loop_tx_abort_full_flow ... ok
test distributed_tx::tests::test_coordinator_without_wal_works ... ok
test distributed_tx::tests::test_cross_shard_conflict_detection ... ok
test distributed_tx::tests::test_distributed_tx_affected_keys ... ok
test distributed_tx::tests::test_distributed_tx_config_accessors ... ok
test distributed_tx::tests::test_distributed_tx_config_default ... ok
test distributed_tx::tests::test_distributed_tx_creation ... ok
test distributed_tx::tests::test_distributed_tx_merged_delta ... ok
test distributed_tx::tests::test_distributed_tx_merged_delta_empty ... ok
test distributed_tx::tests::test_distributed_tx_operations ... ok
test distributed_tx::tests::test_distributed_tx_stats ... ok
test distributed_tx::tests::test_distributed_tx_stats_zero ... ok
test distributed_tx::tests::test_coordinator_with_wal_logs_begin ... ok
test distributed_tx::tests::test_distributed_tx_voting ... ok
test distributed_tx::tests::test_force_resolve_abort ... ok
test distributed_tx::tests::test_force_resolve_commit ... ok
test distributed_tx::tests::test_force_resolve_commit_with_no_vote ... ok
test distributed_tx::tests::test_force_resolve_not_found ... ok
test distributed_tx::tests::test_get_pending_transactions ... ok
test distributed_tx::tests::test_distributed_tx_timeout ... ok
test distributed_tx::tests::test_handle_prepare_conflict ... ok
test distributed_tx::tests::test_handle_prepare_populates_wait_graph ... ok
test distributed_tx::tests::test_handle_prepare_semantic_conflict ... ok
test distributed_tx::tests::test_key_lock_expiry ... ok
test distributed_tx::tests::test_key_lock_is_expired_with_epoch_millis ... ok
test distributed_tx::tests::test_key_lock_serialize_deserialize_roundtrip ... ok
test distributed_tx::tests::test_lock_manager_active_count ... ok
test distributed_tx::tests::test_lock_manager_basic ... ok
test distributed_tx::tests::test_lock_holder_expired ... ok
test distributed_tx::tests::test_lock_manager_concurrent_try_lock ... ok
test distributed_tx::tests::test_lock_manager_cleanup_expired ... ok
test distributed_tx::tests::test_lock_manager_conflict ... ok
test distributed_tx::tests::test_lock_manager_different_keys ... ok
test distributed_tx::tests::test_lock_manager_keys_for_transaction ... ok
test distributed_tx::tests::test_lock_manager_lock_count_for_transaction ... ok
test distributed_tx::tests::test_lock_manager_release_by_tx_id ... ok
test distributed_tx::tests::test_lock_manager_release_partial ... ok
test distributed_tx::tests::test_lock_manager_same_tx_can_relock ... ok
test distributed_tx::tests::test_lock_manager_serializable_roundtrip ... ok
test distributed_tx::tests::test_lock_manager_to_from_serializable_roundtrip ... ok
test distributed_tx::tests::test_lock_manager_try_lock_with_wait_tracking_conflict ... ok
test distributed_tx::tests::test_lock_manager_try_lock_with_wait_tracking_success ... ok
test distributed_tx::tests::test_lock_release_removes_from_both_maps ... ok
test distributed_tx::tests::test_lock_manager_expired_lock_allows_new_lock ... ok
test distributed_tx::tests::test_participant_abort ... ok
test distributed_tx::tests::test_participant_abort_not_prepared ... ok
test distributed_tx::tests::test_participant_cleanup_stale ... ok
test distributed_tx::tests::test_participant_clear_persisted_state ... ok
test distributed_tx::tests::test_participant_clear_persisted_state_returns_result ... ok
test distributed_tx::tests::test_participant_commit_not_found ... ok
test distributed_tx::tests::test_participant_get_awaiting_decision ... ok
test distributed_tx::tests::test_participant_prepare_commit ... ok
test distributed_tx::tests::test_participant_prepare_conflict ... ok
test distributed_tx::tests::test_participant_recover_awaiting_decision ... ok
test distributed_tx::tests::test_participant_recover_expired_releases_locks ... ok
test distributed_tx::tests::test_participant_save_load_empty_state ... ok
test cluster::tests::test_run_loop_tx_commit_full_flow ... ok
test distributed_tx::tests::test_participant_state_serialize_deserialize_roundtrip ... ok
test distributed_tx::tests::test_participant_to_state ... ok
test distributed_tx::tests::test_pending_aborts_queued_on_vote_no ... ok
test distributed_tx::tests::test_prepare_request_debug ... ok
test distributed_tx::tests::test_prepare_vote_yes ... ok
test distributed_tx::tests::test_prepared_tx_debug ... ok
test distributed_tx::tests::test_prepared_tx_serialize_deserialize_roundtrip ... ok
test distributed_tx::tests::test_participant_save_load_with_prepared_transactions ... ok
test distributed_tx::tests::test_record_vote_not_found ... ok
test distributed_tx::tests::test_record_vote_phased_abort_handling ... ok
test distributed_tx::tests::test_recovery_stats_default ... ok
test distributed_tx::tests::test_release_by_handle_nonexistent ... ok
test distributed_tx::tests::test_release_by_handle_removes_tx_locks_entry ... ok
test distributed_tx::tests::test_release_by_handle_with_wait_cleanup ... ok
test distributed_tx::tests::test_release_by_handle_with_wait_cleanup_atomic ... ok
test distributed_tx::tests::test_release_does_not_affect_other_tx_locks ... ok
test distributed_tx::tests::test_release_nonexistent_tx ... ok
test distributed_tx::tests::test_release_orphaned_locks_active_tx_not_released ... ok
test distributed_tx::tests::test_release_orphaned_locks_atomic ... ok
test distributed_tx::tests::test_release_orphaned_locks_cleans_multiple_tx_wait_edges ... ok
test distributed_tx::tests::test_release_orphaned_locks_cleans_wait_graph ... ok
test distributed_tx::tests::test_release_orphaned_locks_concurrent_safety ... ok
test distributed_tx::tests::test_record_vote_and_release_orphaned_locks_no_deadlock ... ok
test distributed_tx::tests::test_release_orphaned_locks_mixed_active_and_orphaned ... ok
test distributed_tx::tests::test_release_orphaned_locks_multiple_keys ... ok
test distributed_tx::tests::test_release_orphaned_locks_no_orphans ... ok
test distributed_tx::tests::test_release_orphaned_locks_releases_orphaned ... ok
test distributed_tx::tests::test_release_orphaned_locks_respects_partition_time ... ok
test distributed_tx::tests::test_serializable_lock_state_accessors ... ok
test distributed_tx::tests::test_serializable_lock_state_new ... ok
test distributed_tx::tests::test_serializable_lock_state_roundtrip ... ok
test distributed_tx::tests::test_take_pending_aborts_clears_queue ... ok
test distributed_tx::tests::test_coordinator_truncate_wal ... ok
test distributed_tx::tests::test_try_lock_wait_graph_concurrent_safety ... ok
test distributed_tx::tests::test_try_lock_wait_graph_updated_atomically ... ok
test distributed_tx::tests::test_now_epoch_millis_increases ... ok
test distributed_tx::tests::test_try_lock_with_wait_tracking_conflicting_keys_accurate ... ok
test distributed_tx::tests::test_tx_participant_default ... ok
test distributed_tx::tests::test_tx_phase_default ... ok
test distributed_tx::tests::test_tx_response_debug ... ok
test distributed_tx::tests::test_voting_all_yes ... ok
test distributed_tx::tests::test_voting_any_no ... ok
test distributed_tx::tests::test_voting_with_conflict ... ok
test distributed_tx::tests::test_wait_graph_multiple_blockers_tracked ... ok
test distributed_tx::tests::test_coordinator_recovers_from_wal ... ok
test embedding::tests::test_before_always_available ... ok
test distributed_tx::tests::test_wait_graph_no_orphaned_edges_after_release ... ok
test distributed_tx::tests::test_coordinator_with_wal_logs_commit ... ok
test embedding::tests::test_compute_dimension_mismatch_error ... ok
test embedding::tests::test_compute_already_computed_error ... ok
test embedding::tests::test_compute_from_dense ... ok
test embedding::tests::test_compute_with_threshold ... ok
test embedding::tests::test_compute_transition ... ok
test embedding::tests::test_default ... ok
test embedding::tests::test_delta_magnitude ... ok
test embedding::tests::test_delta_or_zero_computed ... ok
test embedding::tests::test_delta_or_zero_initial ... ok
test embedding::tests::test_empty ... ok
test embedding::tests::test_error_display ... ok
test embedding::tests::test_from_dense ... ok
test embedding::tests::test_new_initial_state ... ok
test error::tests::test_block_not_found ... ok
test embedding::tests::test_serde ... ok
test error::tests::test_checkpoint_error ... ok
test error::tests::test_clock_error ... ok
test error::tests::test_codebook_error ... ok
test error::tests::test_consensus_error ... ok
test error::tests::test_crypto_error ... ok
test error::tests::test_conflict_detected ... ok
test error::tests::test_deadlock_detected ... ok
test error::tests::test_empty_chain ... ok
test error::tests::test_error_debug ... ok
test error::tests::test_from_io_error ... ok
test error::tests::test_graph_error ... ok
test error::tests::test_from_bincode_error ... ok
test error::tests::test_handler_timeout ... ok
test error::tests::test_invalid_hash ... ok
test error::tests::test_invalid_state ... ok
test error::tests::test_invalid_transition ... ok
test error::tests::test_membership_change_in_progress ... ok
test error::tests::test_merge_failed ... ok
test error::tests::test_network_error ... ok
test error::tests::test_node_not_found ... ok
test error::tests::test_queue_full ... ok
test error::tests::test_not_leader ... ok
test error::tests::test_serialization_error ... ok
test error::tests::test_snapshot_error ... ok
test error::tests::test_storage_error ... ok
test error::tests::test_transaction_failed ... ok
test error::tests::test_workspace_error ... ok
test error::tests::test_validation_failed ... ok
test geometric_membership::tests::test_config_custom ... ok
test geometric_membership::tests::test_config_clone ... ok
test geometric_membership::tests::test_geometric_membership_config_default ... ok
test geometric_membership::tests::test_geometric_membership_creation ... ok
test geometric_membership::tests::test_geometric_membership_debug ... ok
test geometric_membership::tests::test_inner_membership ... ok
test geometric_membership::tests::test_prune_stale_embeddings ... ok
test geometric_membership::tests::test_ranked_peer_clone ... ok
test geometric_membership::tests::test_ranked_peer_debug ... ok
test geometric_membership::tests::test_nearest_healthy_peer_no_healthy ... ok
test geometric_membership::tests::test_nearby_healthy_peers_empty ... ok
test geometric_membership::tests::test_ranked_peers ... ok
test geometric_membership::tests::test_ranked_peers_with_multiple_embeddings ... ok
test geometric_membership::tests::test_record_peer_embedding ... ok
test geometric_membership::tests::test_update_local_embedding ... ok
test geometric_membership::tests::test_view ... ok
test gossip::tests::test_add_peer_already_exists ... ok
test gossip::tests::test_add_peer_duplicates_filtered ... ok
test gossip::tests::test_all_states ... ok
test gossip::tests::test_expire_suspicions_callback_invoked ... ok
test gossip::tests::test_expire_suspicions_timeout ... ok
test gossip::tests::test_expire_suspicions_not_yet_timed_out ... ok
test gossip::tests::test_gossip_config_clone_debug ... ok
test gossip::tests::test_gossip_config_custom ... ok
test gossip::tests::test_gossip_config_default ... ok
test gossip::tests::test_gossip_manager_create_gossip_message ... ok
test gossip::tests::test_gossip_manager_handle_alive ... ok
test gossip::tests::test_gossip_manager_handle_suspect_other ... ok
test gossip::tests::test_gossip_manager_register_callback ... ok
test gossip::tests::test_gossip_manager_node_state ... ok
test gossip::tests::test_gossip_manager_round_count ... ok
test gossip::tests::test_gossip_manager_handle_suspect_self ... ok
test gossip::tests::test_gossip_manager_select_targets_empty ... ok
test gossip::tests::test_gossip_manager_select_targets_with_peers ... ok
test gossip::tests::test_gossip_message_alive_debug ... ok
test gossip::tests::test_gossip_message_debug_clone ... ok
test gossip::tests::test_gossip_message_serialization ... ok
test gossip::tests::test_gossip_node_state_debug_clone ... ok
test gossip::tests::test_gossip_message_suspect_debug ... ok
test gossip::tests::test_gossip_node_state_equal_incarnation ... ok
test gossip::tests::test_gossip_node_state_serialization ... ok
test gossip::tests::test_gossip_node_state_supersedes ... ok
test gossip::tests::test_gossip_node_state_supersedes_higher_incarnation ... ok
test gossip::tests::test_gossip_node_state_supersedes_newer_timestamp ... ok
test gossip::tests::test_gossip_node_state_try_new ... ok
test gossip::tests::test_gossip_node_state_with_wall_time ... ok
test gossip::tests::test_handle_alive_clears_suspicion ... ok
test gossip::tests::test_gossip_round_increments_counter ... ok
test gossip::tests::test_gossip_round_with_empty_targets ... ok
test gossip::tests::test_handle_ping_ack_failure ... ok
test gossip::tests::test_handle_ping_ack_failure_keeps_suspicion ... ok
test gossip::tests::test_handle_ping_ack_success ... ok
test gossip::tests::test_handle_ping_ack_success_for_unknown_target ... ok
test gossip::tests::test_handle_suspect_remote_tracking ... ok
test gossip::tests::test_handle_sync_callbacks_invoked ... ok
test gossip::tests::test_heal_progress_batch_clear ... ok
test gossip::tests::test_handle_suspect_self_refutation ... ok
test gossip::tests::test_handle_sync_sender_marked_healthy ... ok
test gossip::tests::test_heal_progress_clear ... ok
test gossip::tests::test_heal_progress_reset ... ok
test gossip::tests::test_health_counts ... ok
test gossip::tests::test_heal_progress_tracking ... ok
test gossip::tests::test_lamport_time_advances ... ok
test gossip::tests::test_health_counts_from_manager ... ok
test gossip::tests::test_lamport_time_getter ... ok
test gossip::tests::test_lww_all_states_iterator ... ok
test gossip::tests::test_lww_count_by_health_unknown ... ok
test gossip::tests::test_lww_fail_node ... ok
test gossip::tests::test_lww_fail_nonexistent ... ok
test gossip::tests::test_lww_is_empty ... ok
test gossip::tests::test_lww_membership_state_debug_clone ... ok
test gossip::tests::test_lww_membership_state_get ... ok
test gossip::tests::test_lww_membership_state_states_for_gossip ... ok
test gossip::tests::test_lww_merge_newer_wins ... ok
test gossip::tests::test_lww_refute_lower_incarnation ... ok
test gossip::tests::test_lww_merge_older_ignored ... ok
test gossip::tests::test_lww_refute_same_incarnation ... ok
test gossip::tests::test_lww_refute_nonexistent_node ... ok
test gossip::tests::test_lww_suspect_already_failed ... ok
test gossip::tests::test_lww_suspect_nonexistent_node ... ok
test gossip::tests::test_lww_suspect_wrong_incarnation ... ok
test gossip::tests::test_membership_view ... ok
test gossip::tests::test_merge_empty_incoming ... ok
test gossip::tests::test_merge_returns_changed_nodes ... ok
test gossip::tests::test_node_count ... ok
test gossip::tests::test_node_state_nonexistent_returns_none ... ok
test gossip::tests::test_pending_suspicion_struct ... ok
test gossip::tests::test_select_gossip_targets_empty_peers ... ok
test gossip::tests::test_select_gossip_targets_excludes_self ... ok
test distributed_tx::tests::test_try_lock_with_wait_tracking_atomicity ... ok
test gossip::tests::test_select_gossip_targets_fallback_random ... ok
test gossip::tests::test_shutdown ... ok
test gossip::tests::test_states_for_gossip_limits_count ... ok
test gossip::tests::test_suspicion_refutation ... ok
test gossip::tests::test_with_geometric_constructor ... ok
test hlc::tests::test_hlc_estimated_wall_ms ... ok
test gossip::tests::test_suspect_node_starts_suspicion ... ok
test hlc::tests::test_hlc_from_node_id ... ok
test hlc::tests::test_hlc_new ... ok
test hlc::tests::test_hlc_now_monotonic ... ok
test hlc::tests::test_hlc_receive_same_wall_time ... ok
test hlc::tests::test_hlc_receive_advances ... ok
test hlc::tests::test_hlc_rapid_calls ... ok
test hlc::tests::test_hlc_timestamp_as_u64 ... ok
test hlc::tests::test_hlc_timestamp_default ... ok
test hlc::tests::test_hlc_timestamp_from_u64 ... ok
test hlc::tests::test_hlc_timestamp_debug ... ok
test hlc::tests::test_hlc_timestamp_hash ... ok
test hlc::tests::test_hlc_timestamp_new ... ok
test hlc::tests::test_hlc_timestamp_ordering ... ok
test hlc::tests::test_hlc_timestamp_roundtrip ... ok
test hlc::tests::test_hlc_timestamp_serialization ... ok
test membership::tests::test_cascading_failures ... ok
test gossip::tests::test_select_gossip_targets_no_duplicates ... ok
test membership::tests::test_clear_partition_state_nonexistent_node ... ok
test membership::tests::test_check_health_invokes_callback_on_health_change ... ok
test membership::tests::test_clear_partition_state_resets_node ... ok
test membership::tests::test_clear_partition_states_mixed_existing_nonexisting ... ok
test membership::tests::test_check_health_view_change_callback ... ok
test membership::tests::test_cluster_config_builder ... ok
test membership::tests::test_clear_partition_states_multiple_nodes ... ok
test membership::tests::test_cluster_config_debug ... ok
test membership::tests::test_cluster_view ... ok
test membership::tests::test_cluster_view_has_partition_status ... ok
test membership::tests::test_compute_partition_status_stalemate ... ok
test membership::tests::test_detect_healed_nodes_multiple_nodes ... ok
test membership::tests::test_detect_healed_nodes_never_partitioned ... ok
test membership::tests::test_detect_healed_nodes_partition_duration_calculation ... ok
test membership::tests::test_detect_healed_nodes_returns_healed_node ... ok
test membership::tests::test_detect_healed_nodes_threshold_not_met ... ok
test membership::tests::test_health_check_failure_during_degraded ... ok
test membership::tests::test_is_safe_to_write_false_during_grace ... ok
test membership::tests::test_health_config_default ... ok
test membership::tests::test_membership_callback ... ok
test membership::tests::test_membership_manager_check_health_failure ... ok
test membership::tests::test_membership_manager_check_health_success ... ok
test membership::tests::test_membership_manager_grace_period ... ok
test membership::tests::test_cluster_view_debug ... ok
test membership::tests::test_membership_manager_creation ... ok
test membership::tests::test_membership_manager_has_stats ... ok
test membership::tests::test_membership_manager_mark_healthy ... ok
test membership::tests::test_membership_manager_node_status ... ok
test membership::tests::test_membership_manager_mark_failed ... ok
test membership::tests::test_membership_manager_shutdown ... ok
test membership::tests::test_membership_stats_default ... ok
test membership::tests::test_membership_manager_view ... ok
test membership::tests::test_membership_manager_start ... ok
test membership::tests::test_membership_stats_new ... ok
test membership::tests::test_membership_stats_partition_events_tracked ... ok
test membership::tests::test_membership_stats_snapshot ... ok
test membership::tests::test_membership_stats_quorum_lost_events_incremented ... ok
test membership::tests::test_node_health_equality ... ok
test membership::tests::test_node_health_default ... ok
test membership::tests::test_node_status_record_failure ... ok
test membership::tests::test_node_status_new ... ok
test membership::tests::test_node_status_record_failure_tracks_partition_start ... ok
test membership::tests::test_node_status_record_success ... ok
test membership::tests::test_node_status_update_embedding ... ok
test membership::tests::test_on_partition_heal_default_implementation ... ok
test membership::tests::test_oscillating_node_health ... ok
test membership::tests::test_on_partition_heal_callback_invoked ... ok
test membership::tests::test_partition_status_clone ... ok
test membership::tests::test_partition_status_debug ... ok
test membership::tests::test_partition_status_default ... ok
test membership::tests::test_partition_status_equality ... ok
test cluster::tests::test_run_loop_tx_prepare_full_flow ... ok
test membership::tests::test_partition_status_during_grace_period ... ok
test membership::tests::test_partition_status_five_node_quorum_boundary ... ok
test membership::tests::test_partition_status_quorum_reachable ... ok
test membership::tests::test_partition_status_single_node_cluster ... ok
test membership::tests::test_partition_status_three_node_quorum ... ok
test membership::tests::test_partition_status_stalemate_verified ... ok
test membership::tests::test_partition_status_two_node_cluster_split ... ok
test membership::tests::test_recovery_after_grace_period ... ok
test message_validation::tests::test_composite_validator_all_pass ... ok
test message_validation::tests::test_config_default ... ok
test message_validation::tests::test_config_debug_clone ... ok
test message_validation::tests::test_embedding_magnitude_check ... ok
test message_validation::tests::test_validate_append_entries_response_valid ... ok
test message_validation::tests::test_validate_append_entries_no_embedding ... ok
test message_validation::tests::test_validate_append_entries_valid ... ok
test message_validation::tests::test_validate_block_request ... ok
test message_validation::tests::test_validate_block_request_at_exact_limit ... ok
test message_validation::tests::test_validate_block_request_empty_requester ... ok
test message_validation::tests::test_validate_block_request_inverted_range ... ok
test message_validation::tests::test_validate_block_request_too_many_blocks ... ok
test message_validation::tests::test_validate_block_request_valid ... ok
test message_validation::tests::test_validate_block_response ... ok
test message_validation::tests::test_validate_embedding_excessive_dimension ... ok
test message_validation::tests::test_validate_embedding_nan ... ok
test message_validation::tests::test_validate_embedding_inf ... ok
test message_validation::tests::test_validate_embedding_valid_sorted ... ok
test message_validation::tests::test_validate_embedding_zero_dimension ... ok
test message_validation::tests::test_validate_embedding_position_out_of_bounds ... ok
test message_validation::tests::test_validate_from_node_id ... ok
test message_validation::tests::test_validate_gossip ... ok
test message_validation::tests::test_validate_node_id_too_long ... ok
test message_validation::tests::test_validate_pre_vote_response_valid ... ok
test message_validation::tests::test_validate_pre_vote_valid ... ok
test message_validation::tests::test_validate_query_request_exceeds_max_length ... ok
test message_validation::tests::test_validate_query_request_valid ... ok
test message_validation::tests::test_validate_query_request_with_embedding ... ok
test message_validation::tests::test_validate_query_request_zero_id ... ok
test message_validation::tests::test_validate_query_request_zero_timeout ... ok
test message_validation::tests::test_validate_query_response_valid ... ok
test message_validation::tests::test_validate_query_response_zero_id ... ok
test message_validation::tests::test_validate_request_vote_empty_candidate ... ok
test message_validation::tests::test_validate_request_vote_valid ... ok
test message_validation::tests::test_validate_request_vote_zero_term ... ok
test message_validation::tests::test_validate_signed_gossip_future_timestamp ... ok
test message_validation::tests::test_validate_signed_gossip_empty_sender ... ok
test message_validation::tests::test_validate_shard_id_bounds ... ok
test message_validation::tests::test_validate_signed_gossip_invalid_signature_length ... ok
test message_validation::tests::test_validate_signed_gossip_old_timestamp ... ok
test message_validation::tests::test_validate_snapshot_request ... ok
test message_validation::tests::test_validate_snapshot_request_at_exact_limit ... ok
test message_validation::tests::test_validate_snapshot_request_empty_requester ... ok
test message_validation::tests::test_validate_snapshot_request_excessive_chunk ... ok
test message_validation::tests::test_validate_snapshot_request_zero_chunk ... ok
test message_validation::tests::test_validate_snapshot_response ... ok
test message_validation::tests::test_validate_snapshot_request_valid ... ok
test message_validation::tests::test_validate_term_exceeds_max ... ok
test message_validation::tests::test_validate_timeout_now ... ok
test message_validation::tests::test_validate_tx_abort_invalid_shard ... ok
test message_validation::tests::test_validate_tx_abort_zero_tx_id ... ok
test message_validation::tests::test_validate_tx_abort_valid ... ok
test message_validation::tests::test_validate_tx_ack_valid ... ok
test message_validation::tests::test_validate_tx_ack_zero_tx_id ... ok
test message_validation::tests::test_validate_tx_commit_invalid_shard ... ok
test message_validation::tests::test_validate_tx_commit_valid ... ok
test message_validation::tests::test_validate_tx_commit_zero_tx_id ... ok
test message_validation::tests::test_validate_tx_prepare_excessive_timeout ... ok
test message_validation::tests::test_validate_tx_prepare_response_valid ... ok
test message_validation::tests::test_validate_signed_gossip_valid ... ok
test message_validation::tests::test_validate_tx_prepare_response_zero_tx_id ... ok
test distributed_tx::tests::test_timeout_cleanup_cleans_wait_graph ... ok
test message_validation::tests::test_validate_tx_prepare_valid ... ok
test message_validation::tests::test_validate_tx_prepare_zero_tx_id ... ok
test message_validation::tests::test_validation_disabled ... ok
test metrics::tests::test_timing_snapshot_conversions ... ok
test metrics::tests::test_timing_snapshot_default ... ok
test metrics::tests::test_timing_snapshot_serialization ... ok
test metrics::tests::test_timing_stats_min_max_extremes ... ok
test metrics::tests::test_timing_stats_new ... ok
test metrics::tests::test_timing_stats_record_duration ... ok
test metrics::tests::test_timing_stats_record_multiple ... ok
test metrics::tests::test_timing_stats_snapshot ... ok
test metrics::tests::test_timing_stats_record_single ... ok
test metrics::tests::test_timing_stats_snapshot_empty ... ok
test metrics::tests::test_timing_stats_reset ... ok
test metrics::tests::test_timing_stats_concurrent_access ... ok
test network::tests::test_append_entries_response_debug_clone ... ok
test network::tests::test_append_entries_response_serialization ... ok
test network::tests::test_block_request_debug_clone ... ok
test network::tests::test_append_entries_debug_clone ... ok
test network::tests::test_block_response_debug_clone ... ok
test network::tests::test_block_request_response_serialization ... ok
test network::tests::test_all_message_variants_debug ... ok
test network::tests::test_append_entries_serialization ... ok
test network::tests::test_config_change_constructors ... ok
test network::tests::test_config_change_debug_eq ... ok
test network::tests::test_joint_config_all_voters_dedup ... ok
test network::tests::test_config_change_serialization ... ok
test network::tests::test_joint_config_has_joint_quorum ... ok
test network::tests::test_dropped_message_counter ... ok
test network::tests::test_joint_config_debug_eq ... ok
test network::tests::test_joint_config_has_joint_quorum_both_required ... ok
test network::tests::test_joint_config_serialization ... ok
test network::tests::test_log_entry_config ... ok
test network::tests::test_log_entry_data_debug_clone ... ok
test network::tests::test_log_entry_debug_clone ... ok
test network::tests::test_log_entry_new ... ok
test network::tests::test_log_entry_data_serialization ... ok
test network::tests::test_log_entry_serialization ... ok
test network::tests::test_memory_transport_broadcast ... ok
test network::tests::test_memory_transport_connect_disconnect ... ok
test network::tests::test_memory_transport_connect_noop ... ok
test network::tests::test_log_entry_with_config_change_serialization ... ok
test network::tests::test_memory_transport_creation ... ok
test network::tests::test_memory_transport_recv_empty ... ignored, recv() now blocks until message received
test network::tests::test_memory_transport_peers ... ok
test network::tests::test_merge_delta_entry_debug_clone ... ok
test network::tests::test_memory_transport_send_unknown_peer ... ok
test network::tests::test_merge_delta_entry_serialization ... ok
test network::tests::test_merge_op_type_debug_copy ... ok
test network::tests::test_merge_op_type_variants ... ok
test network::tests::test_message_debug_format ... ok
test network::tests::test_message_clone ... ok
test network::tests::test_memory_transport_send_recv ... ok
test network::tests::test_message_routing_embedding_append_entries_without ... ok
test network::tests::test_message_routing_embedding_append_entries_with ... ok
test network::tests::test_message_routing_embedding_ping ... ok
test network::tests::test_message_routing_embedding_pong ... ok
test network::tests::test_message_routing_embedding_request_vote ... ok
test network::tests::test_message_routing_embedding_tx_abort ... ok
test network::tests::test_message_routing_embedding_tx_commit ... ok
test network::tests::test_message_routing_embedding_tx_prepare ... ok
test network::tests::test_message_serialization ... ok
test network::tests::test_message_type_name_all_variants ... ok
test network::tests::test_network_manager_add_handler ... ok
test network::tests::test_network_manager_creation ... ok
test network::tests::test_partition_all_and_heal_all ... ok
test network::tests::test_partition_basic ... ok
test network::tests::test_peer_config ... ok
test network::tests::test_partition_blocks_send ... ok
test network::tests::test_partition_is_asymmetric ... ok
test network::tests::test_peer_config_debug_clone ... ok
test network::tests::test_ping_pong_serialization ... ok
test network::tests::test_prepare_vote_from_tx_vote_no ... ok
test network::tests::test_prepare_vote_from_tx_vote_conflict ... ok
test network::tests::test_prepare_vote_from_tx_vote_yes ... ok
test network::tests::test_prevote_debug_clone ... ok
test network::tests::test_prevote_response_debug_clone ... ok
test network::tests::test_prevote_response_serialization ... ok
test network::tests::test_prevote_serialization ... ok
test network::tests::test_query_request_debug_clone ... ok
test network::tests::test_query_request_serialization ... ok
test network::tests::test_query_response_with_error ... ok
test network::tests::test_query_response_serialization ... ok
test network::tests::test_raft_membership_config_add_learner ... ok
test network::tests::test_query_response_debug_clone ... ok
test network::tests::test_raft_membership_config_add_learner_already_learner ... ok
test network::tests::test_raft_membership_config_add_learner_already_voter ... ok
test network::tests::test_raft_membership_config_debug_eq ... ok
test network::tests::test_raft_membership_config_has_quorum_joint ... ok
test network::tests::test_raft_membership_config_in_joint_consensus ... ok
test network::tests::test_raft_membership_config_is_learner ... ok
test network::tests::test_raft_membership_config_is_voter ... ok
test network::tests::test_raft_membership_config_promote_learner ... ok
test network::tests::test_raft_membership_config_promote_nonexistent ... ok
test network::tests::test_raft_membership_config_quorum_joint ... ok
test network::tests::test_raft_membership_config_quorum_simple ... ok
test network::tests::test_raft_membership_config_remove_learner ... ok
test network::tests::test_raft_membership_config_remove_nonexistent ... ok
test network::tests::test_raft_membership_config_remove_voter ... ok
test network::tests::test_raft_membership_config_replication_targets ... ok
test network::tests::test_raft_membership_config_replication_targets_joint ... ok
test network::tests::test_request_vote_debug_clone ... ok
test network::tests::test_request_vote_response_debug_clone ... ok
test network::tests::test_request_vote_response_serialization ... ok
test network::tests::test_snapshot_request_debug_clone ... ok
test network::tests::test_snapshot_response_debug_clone ... ok
test network::tests::test_timeout_now_debug_clone ... ok
test network::tests::test_timeout_now_serialization ... ok
test network::tests::test_tx_abort_msg_debug_clone ... ok
test network::tests::test_snapshot_request_response_serialization ... ok
test network::tests::test_tx_ack_msg_debug_clone ... ok
test network::tests::test_tx_ack_with_error ... ok
test network::tests::test_tx_commit_msg_debug_clone ... ok
test network::tests::test_tx_commit_abort_ack_serialization ... ok
test network::tests::test_tx_handler_ignores_non_2pc_messages ... ok
test network::tests::test_tx_handler_prepare ... ok
test network::tests::test_tx_handler_abort ... ok
test network::tests::test_tx_handler_commit ... ok
test network::tests::test_tx_handler_prepare_conflict ... ok
test network::tests::test_tx_prepare_msg_serialization ... ok
test network::tests::test_tx_prepare_response_msg_debug_clone ... ok
test network::tests::test_tx_prepare_msg_debug_clone ... ok
test network::tests::test_tx_prepare_response_serialization ... ok
test network::tests::test_tx_vote_from_prepare_vote_conflict ... ok
test network::tests::test_tx_vote_debug_clone ... ok
test network::tests::test_tx_vote_from_prepare_vote_no ... ok
test network::tests::test_tx_vote_from_prepare_vote_yes ... ok
test network::tests::test_tx_vote_variants_serialization ... ok
test partition_merge::tests::test_config_serialization ... ok
test partition_merge::tests::test_can_merge_with_cooldown_blocking ... ok
test partition_merge::tests::test_advance_session_from_terminal ... ok
test partition_merge::tests::test_conflict_types ... ok
test partition_merge::tests::test_data_reconciler_conflicting ... ok
test partition_merge::tests::test_data_reconciler_identical_states ... ok
test partition_merge::tests::test_data_reconciler_local_only_embedding ... ok
test partition_merge::tests::test_data_reconciler_no_embeddings ... ok
test partition_merge::tests::test_data_reconciler_nearly_identical ... ok
test partition_merge::tests::test_data_reconciler_opposite_vectors ... ok
test partition_merge::tests::test_data_reconciler_orthogonal_merge ... ok
test partition_merge::tests::test_data_reconciler_remote_only_embedding ... ok
test partition_merge::tests::test_manager_with_reconcilers ... ok
test partition_merge::tests::test_membership_reconciler_lww_higher_incarnation ... ok
test partition_merge::tests::test_membership_reconciler_local_incarnation_higher ... ok
test partition_merge::tests::test_membership_reconciler_union ... ok
test partition_merge::tests::test_membership_reconciler_lww_same_incarnation_timestamp_wins ... ok
test partition_merge::tests::test_membership_view_comparison ... ok
test partition_merge::tests::test_membership_view_serialization ... ok
test partition_merge::tests::test_membership_view_summary ... ok
test partition_merge::tests::test_membership_view_summary_with_hash ... ok
test partition_merge::tests::test_merge_phase_is_terminal ... ok
test partition_merge::tests::test_membership_view_summary_with_states ... ok
test partition_merge::tests::test_merge_phase_transitions ... ok
test partition_merge::tests::test_merge_session_advance_phases ... ok
test partition_merge::tests::test_merge_session_advance_phase ... ok
test partition_merge::tests::test_merge_session_duration ... ok
test partition_merge::tests::test_merge_session_creation ... ok
test partition_merge::tests::test_merge_session_fail ... ok
test partition_merge::tests::test_merge_session_has_summaries ... ok
test partition_merge::tests::test_merge_session_has_all_views ... ok
test partition_merge::tests::test_merge_session_fail_phase_transition ... ok
test partition_merge::tests::test_merge_session_is_phase_timed_out ... ok
test partition_merge::tests::test_partition_merge_config_aggressive ... ok
test partition_merge::tests::test_partition_merge_config_builder ... ok
test partition_merge::tests::test_partition_merge_config_conservative ... ok
test partition_merge::tests::test_partition_merge_config_default ... ok
test partition_merge::tests::test_partition_merge_config_max_retries ... ok
test partition_merge::tests::test_partition_merge_manager_active_sessions ... ok
test partition_merge::tests::test_partition_merge_manager_advance_session ... ok
test partition_merge::tests::test_partition_merge_manager_complete_session ... ok
test partition_merge::tests::test_partition_merge_manager_concurrent_limit ... ok
test partition_merge::tests::test_partition_merge_manager_creation ... ok
test partition_merge::tests::test_partition_merge_manager_fail_session ... ok
test partition_merge::tests::test_partition_merge_manager_cooldown ... ok
test partition_merge::tests::test_partition_merge_manager_handle_view_exchange ... ok
test partition_merge::tests::test_partition_merge_manager_set_local_view ... ok
test partition_merge::tests::test_partition_merge_manager_set_summaries ... ok
test partition_merge::tests::test_partition_merge_stats ... ok
test partition_merge::tests::test_partition_merge_manager_start_merge ... ok
test partition_merge::tests::test_partition_merge_stats_empty ... ok
test partition_merge::tests::test_partition_merge_stats_rates ... ok
test partition_merge::tests::test_partition_merge_stats_record_session_start ... ok
test partition_merge::tests::test_partition_state_summary ... ok
test partition_merge::tests::test_partition_state_summary_comparison ... ok
test partition_merge::tests::test_partition_state_summary_hash_match ... ok
test partition_merge::tests::test_partition_state_summary_with_embedding ... ok
test partition_merge::tests::test_partition_state_summary_with_log_position ... ok
test partition_merge::tests::test_partition_state_summary_serialization ... ok
test partition_merge::tests::test_pending_tx_serialization ... ok
test partition_merge::tests::test_pending_tx_state ... ok
test partition_merge::tests::test_pending_tx_state_accessors ... ok
test partition_merge::tests::test_pending_tx_votes ... ok
test partition_merge::tests::test_pending_tx_is_timed_out ... ok
test partition_merge::tests::test_start_merge_blocked_by_all_cooldowns ... ok
test partition_merge::tests::test_start_merge_blocked_by_max_concurrent ... ok
test partition_merge::tests::test_transaction_reconciler_empty_inputs ... ok
test partition_merge::tests::test_tx_reconciler_any_no ... ok
test partition_merge::tests::test_tx_reconciler_both_all_yes ... ok
test partition_merge::tests::test_tx_reconciler_incomplete_aborts ... ok
test partition_merge::tests::test_tx_reconciler_incomplete_votes_conflict ... ok
test partition_merge::tests::test_tx_reconciler_only_local_incomplete ... ok
test partition_merge::tests::test_tx_reconciler_only_local_timed_out ... ok
test partition_merge::tests::test_tx_reconciler_only_one_side ... ok
test partition_merge::tests::test_tx_reconciler_only_remote_has_tx_all_yes ... ok
test partition_merge::tests::test_tx_reconciler_only_remote_has_tx_with_no ... ok
test partition_merge::tests::test_tx_reconciler_only_remote_incomplete ... ok
test partition_merge::tests::test_tx_reconciler_only_remote_timed_out ... ok
test partition_merge::tests::test_tx_reconciler_timeout_aborts ... ok
test raft::tests::test_add_learner_already_learner ... ok
test raft::tests::test_add_learner_already_voter ... ok
test raft::tests::test_add_learner_not_leader ... ok
test raft::tests::test_add_learner_success ... ok
test distributed_tx::tests::test_coordinator_with_wal_recovery ... ok
test raft::tests::test_append_entries_heartbeat ... ok
test raft::tests::test_append_entries_response_updates_quorum_tracker ... ok
test raft::tests::test_become_leader_no_partial_state ... ok
test raft::tests::test_become_leader_with_heartbeat ... ok
test raft::tests::test_become_leader_atomicity ... ok
test raft::tests::test_can_compact_no_previous ... ok
test raft::tests::test_can_compact_within_cooldown ... ok
test raft::tests::test_cancel_transfer ... ok
test raft::tests::test_compaction_config_defaults ... ok
test raft::tests::test_compaction_tick_counter_increments ... ok
test raft::tests::test_create_snapshot_basic ... ok
test raft::tests::test_create_snapshot_computes_hash ... ok
test raft::tests::test_create_snapshot_empty_chain ... ok
test raft::tests::test_create_snapshot_finalized_exceeds_log ... ok
test raft::tests::test_create_snapshot_no_finalized ... ok
test raft::tests::test_create_snapshot_streaming_finalized_exceeds_log ... ok
test raft::tests::test_create_snapshot_streaming_no_finalized ... ok
test raft::tests::test_fast_path_insufficient_history ... ok
test raft::tests::test_fast_path_leader_change_clears_history ... ok
test raft::tests::test_fast_path_low_similarity_rejected ... ok
test raft::tests::test_fast_path_state_add_embedding ... ok
test raft::tests::test_fast_path_state_clear_leader ... ok
test raft::tests::test_fast_path_state_default ... ok
test raft::tests::test_fast_path_state_get_embeddings_unknown_leader ... ok
test raft::tests::test_fast_path_state_get_sparse_embeddings ... ok
test raft::tests::test_fast_path_state_max_history ... ok
test raft::tests::test_fast_path_state_multiple_leaders ... ok
test raft::tests::test_fast_path_state_new ... ok
test raft::tests::test_fast_path_stats_acceptance_rate ... ok
test raft::tests::test_fast_path_stats_alias ... ok
test raft::tests::test_fast_path_stats_new ... ok
test raft::tests::test_fast_path_stats_record ... ok
test raft::tests::test_fast_path_stats_recorded ... ok
test raft::tests::test_finalization ... ok
test raft::tests::test_finalize_to ... ok
test raft::tests::test_finalize_to_beyond_commit ... ok
test raft::tests::test_geometric_tiebreak_in_request_vote ... ok
test raft::tests::test_geometric_vote_bias_disabled ... ok
test raft::tests::test_geometric_vote_bias_empty_embeddings ... ok
test raft::tests::test_geometric_vote_bias_enabled ... ok
test raft::tests::test_get_snapshot_chunks ... ok
test raft::tests::test_get_snapshot_metadata ... ok
test raft::tests::test_get_uncommitted_entries_edge_cases ... ok
test raft::tests::test_get_uncommitted_entries_returns_committed_not_applied ... ok
test raft::tests::test_handle_append_entries_extends_log ... ok
test raft::tests::test_handle_append_entries_log_conflict ... ok
test raft::tests::test_handle_append_entries_old_term ... ok
test raft::tests::test_handle_append_entries_prev_log_index_too_high ... ok
test raft::tests::test_handle_append_entries_prev_log_mismatch ... ok
test raft::tests::test_handle_append_entries_response_failure_decrements_next_index ... ok
test raft::tests::test_handle_append_entries_response_higher_term ... ok
test raft::tests::test_handle_append_entries_response_not_leader ... ok
test raft::tests::test_handle_append_entries_response_success_advances_commit ... ok
test raft::tests::test_handle_append_entries_updates_commit_index ... ok
test raft::tests::test_handle_append_entries_with_embedding ... ok
test raft::tests::test_handle_ping_message ... ok
test raft::tests::test_handle_pre_vote_denies_stale_log ... ok
test raft::tests::test_handle_pre_vote_denies_when_leader_active ... ok
test raft::tests::test_handle_pre_vote_grants_when_eligible ... ok
test raft::tests::test_handle_request_vote_already_voted ... ok
test raft::tests::test_handle_request_vote_log_not_up_to_date ... ok
test raft::tests::test_handle_request_vote_response_duplicate_vote ... ok
test raft::tests::test_handle_request_vote_response_gains_quorum ... ok
test raft::tests::test_handle_request_vote_response_higher_term ... ok
test raft::tests::test_handle_request_vote_response_not_candidate ... ok
test raft::tests::test_handle_request_vote_stale_term ... ok
test raft::tests::test_handle_snapshot_request_not_leader ... ok
test raft::tests::test_handle_snapshot_response_not_follower ... ok
test raft::tests::test_handle_timeout_now_rejects_wrong_leader ... ok
test raft::tests::test_handle_timeout_now_rejects_wrong_term ... ok
test raft::tests::test_handle_timeout_now_starts_election ... ok
test raft::tests::test_handle_unknown_message ... ok
test raft::tests::test_heartbeat_config_defaults ... ok
test raft::tests::test_heartbeat_double_start_is_noop ... ok
test raft::tests::test_heartbeat_manual_mode ... ok
test raft::tests::test_heartbeat_not_running_for_follower ... ok
test raft::tests::test_heartbeat_not_running_initially ... ok
test raft::tests::test_heartbeat_stats_initial ... ok
test raft::tests::test_heartbeat_stats_reset ... ok
test raft::tests::test_can_compact_after_cooldown ... ok
test partition_merge::tests::test_process_timeouts_retry ... ok
test partition_merge::tests::test_process_timeouts_session_removed ... ok
test raft::tests::test_in_joint_consensus ... ok
test raft::tests::test_install_snapshot_basic ... ok
test raft::tests::test_install_snapshot_empty_data ... ok
test raft::tests::test_install_snapshot_index_mismatch ... ok
test raft::tests::test_install_snapshot_validates_hash ... ok
test raft::tests::test_is_learner_caught_up_no_match_index ... ok
test raft::tests::test_is_learner_caught_up_not_learner ... ok
test raft::tests::test_is_peer_healthy_no_membership ... ok
test raft::tests::test_is_write_safe_checks_quorum ... ok
test raft::tests::test_last_log_index_empty ... ok
test raft::tests::test_last_log_index_with_entries ... ok
test raft::tests::test_last_log_info_empty ... ok
test raft::tests::test_last_log_info_with_entries ... ok
test raft::tests::test_leader_proposal ... ok
test raft::tests::test_leader_steps_down_on_quorum_loss ... ok
test raft::tests::test_leadership_state_transitions ... ok
test raft::tests::test_load_from_empty_store ... ok
test raft::tests::test_load_snapshot_missing ... ok
test raft::tests::test_log_entry_index_field ... ok
test raft::tests::test_log_length ... ok
test raft::tests::test_mark_applied ... ok
test raft::tests::test_mark_applied_beyond_commit ... ok
test raft::tests::test_mark_compacted_sets_timestamp ... ok
test raft::tests::test_needs_snapshot_for_follower ... ok
test raft::tests::test_persistence_key ... ok
test raft::tests::test_persistence_preserves_embedding ... ok
test raft::tests::test_pre_vote_basic ... ok
test raft::tests::test_pre_vote_config_disabled ... ok
test raft::tests::test_pre_vote_ignores_late_responses ... ok
test raft::tests::test_pre_vote_quorum_triggers_election ... ok
test raft::tests::test_pre_vote_resets_on_higher_term ... ok
test raft::tests::test_pre_vote_response_serialization ... ok
test raft::tests::test_pre_vote_serialization_roundtrip ... ok
test raft::tests::test_promote_learner_not_a_learner ... ok
test raft::tests::test_promote_learner_not_leader ... ok
test raft::tests::test_promote_learner_success ... ok
test raft::tests::test_propose_not_leader ... ok
test raft::tests::test_propose_rejects_without_quorum ... ok
test raft::tests::test_propose_succeeds_with_quorum ... ok
test raft::tests::test_quorum_calculation ... ok
test raft::tests::test_quorum_size_4_node_cluster ... ok
test raft::tests::test_quorum_size_6_node_cluster ... ok
test raft::tests::test_quorum_size_consistency_with_tracker ... ok
test raft::tests::test_quorum_size_custom ... ok
test raft::tests::test_quorum_tracker_debug ... ok
test raft::tests::test_quorum_tracker_default ... ok
test raft::tests::test_quorum_tracker_has_quorum_3_nodes ... ok
test raft::tests::test_quorum_tracker_has_quorum_5_nodes ... ok
test raft::tests::test_quorum_tracker_mark_reachable ... ok
test raft::tests::test_quorum_tracker_new ... ok
test raft::tests::test_quorum_tracker_record_failure ... ok
test raft::tests::test_quorum_tracker_record_success ... ok
test raft::tests::test_quorum_tracker_reset ... ok
test raft::tests::test_quorum_tracker_success_clears_failures ... ok
test raft::tests::test_quorum_tracker_unreachable_peers ... ok
test raft::tests::test_raft_config_default ... ok
test raft::tests::test_raft_config_fields ... ok
test raft::tests::test_raft_config_geometric_defaults ... ok
test raft::tests::test_raft_node_accessors ... ok
test raft::tests::test_raft_node_creation ... ok
test raft::tests::test_raft_node_fast_path_stats ... ok
test raft::tests::test_raft_node_get_entries_for_follower ... ok
test raft::tests::test_raft_node_has_stats ... ok
test raft::tests::test_raft_node_last_log_index ... ok
test raft::tests::test_raft_node_persist_term_and_vote_no_wal ... ok
test raft::tests::test_heartbeat_task_start_stop ... ok
test raft::tests::test_raft_node_transport_accessor ... ok
test raft::tests::test_raft_node_persist_term_and_vote_with_wal ... ok
test raft::tests::test_raft_stats_acceptance_rate ... ok
test raft::tests::test_raft_stats_heartbeat_success_rate ... ok
test raft::tests::test_raft_stats_new ... ok
test raft::tests::test_raft_node_with_wal ... ok
test raft::tests::test_raft_stats_record_fast_path ... ok
test raft::tests::test_raft_stats_snapshot ... ok
test raft::tests::test_raft_stats_record_rejected ... ok
test raft::tests::test_raft_stats_timing ... ok
test raft::tests::test_receive_snapshot_chunk_offset_mismatch ... ok
test raft::tests::test_receive_snapshot_chunks ... ok
test raft::tests::test_remove_node_cannot_remove_self ... ok
test raft::tests::test_remove_node_not_in_cluster ... ok
test raft::tests::test_remove_node_not_leader ... ok
test raft::tests::test_remove_node_success ... ok
test raft::tests::test_replication_targets_includes_peers ... ok
test raft::tests::test_request_vote_handling ... ok
test raft::tests::test_request_vote_granted_for_healthy_candidate ... ok
test raft::tests::test_request_vote_rejected_for_unhealthy_candidate ... ok
test raft::tests::test_reset_heartbeat_for_election_resets_time ... ok
test raft::tests::test_save_load_from_store ... ok
test raft::tests::test_save_without_voted_for ... ok
test raft::tests::test_set_current_leader ... ok
test raft::tests::test_set_finalized_height ... ok
test raft::tests::test_set_membership ... ok
test raft::tests::test_should_compact_no_finalized ... ok
test raft::tests::test_should_compact_ready ... ok
test raft::tests::test_should_compact_threshold_not_met ... ok
test raft::tests::test_snapshot_config_defaults ... ok
test raft::tests::test_snapshot_key_patterns ... ok
test raft::tests::test_snapshot_metadata_new ... ok
test raft::tests::test_snapshot_metadata_new_sets_created_at ... ok
test raft::tests::test_save_snapshot_to_store ... ok
test raft::tests::test_snapshot_metadata_serialization ... ok
test raft::tests::test_snapshot_metadata_with_membership ... ok
test raft::tests::test_start_election ... ok
test raft::tests::test_store_field_none_by_default ... ok
test raft::tests::test_timeout_now_serialization ... ok
test raft::tests::test_transfer_leadership_already_in_progress ... ok
test raft::tests::test_transfer_leadership_blocks_proposals ... ok
test raft::tests::test_transfer_leadership_not_leader ... ok
test raft::tests::test_transfer_leadership_unknown_target ... ok
test raft::tests::test_transfer_state_fields ... ok
test raft::tests::test_truncate_log ... ok
test raft::tests::test_try_advance_commit_index ... ok
test raft::tests::test_try_advance_commit_index_entry_from_old_term ... ok
test raft::tests::test_try_advance_commit_index_no_leader_state ... ok
test raft::tests::test_try_advance_commit_index_not_leader ... ok
test raft::tests::test_try_auto_compact_interval_skip ... ok
test raft::tests::test_uncommitted_entries ... ok
test raft::tests::test_update_state_embedding ... ok
test raft::tests::test_update_state_embedding_dense_with_zeros ... ok
test raft::tests::test_startup_validates_snapshot_hash ... ok
test raft::tests::test_update_state_embedding_sparse ... ok
test raft::tests::test_with_membership_constructor ... ok
test raft::tests::test_with_state ... ok
test raft::tests::test_with_store_empty_store ... ok
test raft::tests::test_with_store_loads_snapshot ... ok
test raft::tests::test_with_store_loads_state ... ok
test raft::tests::test_with_store_sets_store_reference ... ok
test partition_merge::tests::test_process_timeouts_max_retries_exceeded ... ok
test raft_wal::tests::test_raft_wal_count_entries_handles_empty_file ... ok
test raft_wal::tests::test_raft_wal_append_returns_io_error_on_failure ... ok
test network::tests::test_broadcast_skips_partitioned ... ok
test raft_wal::tests::test_raft_wal_multiple_snapshots_last_wins ... ok
test raft_wal::tests::test_raft_wal_log_append_entries_recorded ... ok
test raft_wal::tests::test_raft_wal_open_creates_file_if_missing ... ok
test raft_wal::tests::test_raft_wal_log_truncate_entry_recorded ... ok
test raft_wal::tests::test_recovery_accepts_first_vote_for_term ... ok
test raft_wal::tests::test_recovery_rejects_duplicate_vote_same_term ... ok
test raft_wal::tests::test_recovery_snapshot_resets_voted_for ... ok
test raft_wal::tests::test_recovery_snapshot_updates_current_term ... ok
test raft_wal::tests::test_recovery_state_from_entries ... ok
test distributed_tx::tests::test_release_orphaned_locks_concurrent_transactions ... ok
test raft_wal::tests::test_recovery_state_multiple_votes_same_term ... ok
test raft_wal::tests::test_recovery_state_snapshot ... ok
test raft_wal::tests::test_recovery_state_term_and_vote_combined ... ok
test raft_wal::tests::test_recovery_state_term_change_resets_vote ... ok
test raft_wal::tests::test_recovery_state_vote_in_lower_term_ignored ... ok
test membership::tests::test_run_method_with_shutdown ... ok
test raft_wal::tests::test_recovery_state_from_wal ... ok
test raft_wal::tests::test_raft_wal_very_large_term_number ... ok
test raft_wal::tests::test_raft_wal_reopen_append_continue ... ok
test raft_wal::tests::test_wal_config_default ... ok
test raft::tests::test_heartbeat_stops_on_step_down ... ok
test raft_wal::tests::test_wal_entry_serialization ... ok
test raft_wal::tests::test_wal_error_display ... ok
test raft_wal::tests::test_raft_wal_concurrent_append_thread_safety ... ok
test raft_wal::tests::test_wal_checksums_disabled ... ok
test raft_wal::tests::test_wal_append_and_replay ... ok
test raft_wal::tests::test_wal_checksum_verification_can_be_disabled ... ok
test raft_wal::tests::test_wal_fsync_actually_persists ... ok
test raft_wal::tests::test_wal_corrupted_checksum_detected ... ok
test raft_wal::tests::test_wal_current_size_tracking ... ok
test raft_wal::tests::test_wal_handles_partial_write ... ok
test raft::tests::test_heartbeat_stats_tracking ... ok
test signing::tests::test_different_identities_different_node_ids ... ok
test signing::tests::test_embedding_deterministic ... ok
test signing::tests::test_embedding_generation ... ok
test signing::tests::test_identity_debug ... ok
test signing::tests::test_identity_from_bytes ... ok
test signing::tests::test_identity_generation ... ok
test signing::tests::test_identity_sign_verify_roundtrip ... ok
test signing::tests::test_node_id_deterministic ... ok
test signing::tests::test_public_identity_from_bytes ... ok
test signing::tests::test_public_identity_to_bytes ... ok
test signing::tests::test_public_identity_to_node_id ... ok
test signing::tests::test_sender_embedding ... ok
test signing::tests::test_sequence_tracker_accepts_valid ... ok
test signing::tests::test_sequence_tracker_config_builder ... ok
test signing::tests::test_sequence_tracker_config_default ... ok
test signing::tests::test_sequence_tracker_existing_sender_not_counted_against_capacity ... ok
test signing::tests::test_sequence_tracker_len_is_empty ... ok
test signing::tests::test_sequence_tracker_max_entries_enforced ... ok
test signing::tests::test_sequence_tracker_rejects_old_messages ... ok
test signing::tests::test_sequence_tracker_rejects_replay ... ok
test signing::tests::test_sequence_tracker_with_config ... ok
test signing::tests::test_sign_and_verify ... ok
test signing::tests::test_signed_gossip_all_message_types ... ok
test signing::tests::test_signed_gossip_backward_compat_unsigned ... ok
test signing::tests::test_signed_gossip_expired_message ... ok
test signing::tests::test_signed_gossip_invalid_signature ... ok
test signing::tests::test_signed_gossip_replay_rejected ... ok
test signing::tests::test_signed_gossip_roundtrip ... ok
test signing::tests::test_signed_gossip_serialization_roundtrip ... ok
test signing::tests::test_signed_gossip_unknown_sender ... ok
test signing::tests::test_signed_gossip_wrong_sender ... ok
test signing::tests::test_signed_message_identity_binding ... ok
test signing::tests::test_signed_message_verification ... ok
test signing::tests::test_signed_message_with_replay_protection ... ok
test signing::tests::test_validator_registry_get ... ok
test signing::tests::test_validator_registry_get_nonexistent ... ok
test signing::tests::test_validator_registry_new ... ok
test signing::tests::test_validator_registry_node_ids ... ok
test signing::tests::test_validator_registry_register ... ok
test signing::tests::test_validator_registry_register_public_key ... ok
test signing::tests::test_validator_registry_remove ... ok
test signing::tests::test_validator_registry_verify_signature ... ok
test signing::tests::test_wrong_message_fails_verification ... ok
test snapshot_buffer::tests::test_buffer_cleanup_memory_mode ... ok
test raft_wal::tests::test_wal_size_limit_without_auto_rotate ... ok
test snapshot_buffer::tests::test_buffer_concurrent_access ... ok
test snapshot_buffer::tests::test_buffer_config_accessor ... ok
test snapshot_buffer::tests::test_buffer_empty_writes ... ok
test raft_wal::tests::test_wal_v1_backward_compatible ... ok
test snapshot_buffer::tests::test_buffer_finalize_idempotent ... ok
test snapshot_buffer::tests::test_buffer_hash_computation ... ok
test snapshot_buffer::tests::test_buffer_hash_stability ... ok
test snapshot_buffer::tests::test_buffer_incremental_writes ... ok
test raft_wal::tests::test_wal_manual_rotation ... ok
test snapshot_buffer::tests::test_buffer_cleanup_on_drop ... ok
test snapshot_buffer::tests::test_buffer_memory_mode ... ok
test snapshot_buffer::tests::test_buffer_out_of_bounds ... ok
test snapshot_buffer::tests::test_buffer_read_chunk_method ... ok
test snapshot_buffer::tests::test_buffer_read_exact_boundary ... ok
test snapshot_buffer::tests::test_buffer_reader ... ok
test snapshot_buffer::tests::test_buffer_reader_remaining ... ok
test snapshot_buffer::tests::test_buffer_reader_seek ... ok
test snapshot_buffer::tests::test_buffer_reader_seek_from_current ... ok
test snapshot_buffer::tests::test_buffer_reader_seek_from_end ... ok
test snapshot_buffer::tests::test_buffer_reader_seek_negative_position ... ok
test snapshot_buffer::tests::test_buffer_reader_seek_past_end ... ok
test snapshot_buffer::tests::test_buffer_explicit_cleanup ... ok
test snapshot_buffer::tests::test_buffer_temp_path_memory_mode ... ok
test snapshot_buffer::tests::test_buffer_with_defaults ... ok
test raft_wal::tests::test_wal_v2_checksum_roundtrip ... ok
test snapshot_buffer::tests::test_buffer_large_file_growth ... ok
test snapshot_buffer::tests::test_config_builder ... ok
test snapshot_buffer::tests::test_error_display ... ok
test snapshot_buffer::tests::test_error_from_io ... ok
test snapshot_buffer::tests::test_write_trait_implementation ... ok
test snapshot_buffer::tests::test_buffer_spill_to_file ... ok
test snapshot_streaming::tests::test_bytes_written_tracking ... ok
test snapshot_streaming::tests::test_empty_snapshot ... ok
test snapshot_streaming::tests::test_deserialize_legacy_format ... ok
test snapshot_streaming::tests::test_error_display ... ok
test snapshot_streaming::tests::test_error_from_conversions ... ok
test snapshot_streaming::tests::test_streaming_corrupted_entry_count ... ok
test snapshot_streaming::tests::test_streaming_corrupted_magic ... ok
test snapshot_streaming::tests::test_streaming_deserialize_error ... ok
test snapshot_streaming::tests::test_streaming_entry_data_eof ... ok
test snapshot_streaming::tests::test_streaming_entry_too_large ... ok
test snapshot_streaming::tests::test_streaming_invalid_magic_variations ... ok
test snapshot_streaming::tests::test_streaming_iterator ... ok
test snapshot_streaming::tests::test_streaming_iterator_with_error ... ok
test snapshot_streaming::tests::test_serialize_deserialize_roundtrip ... ok
test snapshot_streaming::tests::test_streaming_large_version_number ... ok
test snapshot_streaming::tests::test_streaming_length_prefix_eof ... ok
test snapshot_streaming::tests::test_streaming_partial_read ... ok
test snapshot_streaming::tests::test_streaming_reader_buffer_too_small ... ok
test snapshot_streaming::tests::test_streaming_reader_version_mismatch ... ok
test snapshot_streaming::tests::test_streaming_single_entry ... ok
test snapshot_streaming::tests::test_streaming_with_defaults ... ok
test state_machine::tests::test_accessors ... ok
test state_machine::tests::test_apply_block_direct ... ok
test state_machine::tests::test_apply_committed_empty ... ok
test state_machine::tests::test_apply_config_change_add_learner ... ok
test state_machine::tests::test_apply_config_change_add_learner_already_voter ... ok
test state_machine::tests::test_apply_config_change_joint_enter ... ok
test state_machine::tests::test_apply_config_change_joint_exit ... ok
test state_machine::tests::test_apply_config_change_promote_learner ... ok
test state_machine::tests::test_apply_config_change_promote_non_learner ... ok
test state_machine::tests::test_apply_config_change_remove_learner ... ok
test state_machine::tests::test_apply_config_change_remove_voter ... ok
test state_machine::tests::test_apply_entry ... ok
test state_machine::tests::test_apply_entry_config_only_no_transactions ... ok
test state_machine::tests::test_apply_entry_no_embedding ... ok
test state_machine::tests::test_apply_multiple_entries ... ok
test state_machine::tests::test_can_fast_path_dissimilar_embedding ... ok
test state_machine::tests::test_can_fast_path_no_embedding ... ok
test state_machine::tests::test_can_fast_path_no_history ... ok
test state_machine::tests::test_can_fast_path_similar_embedding ... ok
test state_machine::tests::test_clear_recent ... ok
test state_machine::tests::test_current_state_embedding_none ... ok
test state_machine::tests::test_current_state_embedding_returns_last ... ok
test raft_wal::tests::test_wal_truncate ... ok
test state_machine::tests::test_delete_nonexistent_key_succeeds ... ok
test state_machine::tests::test_delete_transaction_applied ... ok
test state_machine::tests::test_edge_create_transaction_applied ... ok
test state_machine::tests::test_embed_transaction_applied ... ok
test state_machine::tests::test_node_create_transaction_applied ... ok
test state_machine::tests::test_node_delete_transaction_applied ... ok
test state_machine::tests::test_recent_embedding_similarity ... ok
test state_machine::tests::test_recent_embedding_similarity_empty_input ... ok
test state_machine::tests::test_state_machine_new ... ok
test state_machine::tests::test_state_machine_with_threshold ... ok
test state_machine::tests::test_table_delete_transaction_applied ... ok
test state_machine::tests::test_table_insert_transaction_applied ... ok
test state_machine::tests::test_table_update_transaction_applied ... ok
test state_machine::tests::test_track_embedding_empty_ignored ... ok
test state_machine::tests::test_track_embedding_max_recent ... ok
test state_machine::tests::test_threshold_clamping ... ok
test tcp::compression::tests::test_compress_decompress_lz4 ... ok
test tcp::compression::tests::test_compress_decompress_none ... ok
test tcp::compression::tests::test_compression_method_debug ... ok
test tcp::compression::tests::test_compression_method_default ... ok
test tcp::compression::tests::test_config_builder ... ok
test tcp::compression::tests::test_config_clone ... ok
test state_machine::tests::test_transaction_applied_to_store ... ok
test tcp::compression::tests::test_config_debug ... ok
test tcp::compression::tests::test_config_default ... ok
test tcp::compression::tests::test_config_disabled ... ok
test tcp::compression::tests::test_empty_data ... ok
test tcp::compression::tests::test_frame_flags ... ok
test tcp::compression::tests::test_invalid_lz4_data ... ok
test tcp::compression::tests::test_is_beneficial ... ok
test tcp::compression::tests::test_lz4_compression_ratio ... ok
test tcp::compression::tests::test_lz4_decompress_just_over_max_rejected ... ok
test tcp::compression::tests::test_lz4_decompress_oversized_claim ... ok
test tcp::compression::tests::test_lz4_decompress_too_short ... ok
test tcp::compression::tests::test_method_from_flags ... ok
test tcp::compression::tests::test_lz4_decompress_valid_size_accepted ... ok
test tcp::compression::tests::test_method_from_flags_ignores_reserved_bits ... ok
test tcp::compression::tests::test_small_data ... ok
test tcp::config::tests::test_config_builder ... ok
test tcp::config::tests::test_config_clone ... ok
test tcp::config::tests::test_config_compression ... ok
test tcp::config::tests::test_config_compression_disabled ... ok
test tcp::config::tests::test_config_connect_timeout_duration ... ok
test tcp::config::tests::test_config_debug ... ok
test tcp::config::tests::test_config_io_timeout ... ok
test tcp::config::tests::test_config_is_secure ... ok
test tcp::config::tests::test_config_keepalive ... ok
test tcp::config::tests::test_config_rate_limit ... ok
test tcp::config::tests::test_config_rate_limit_disabled ... ok
test tcp::config::tests::test_config_reconnect ... ok
test tcp::config::tests::test_config_require_tls ... ok
test tcp::config::tests::test_config_with_compression ... ok
test tcp::config::tests::test_config_with_rate_limit ... ok
test tcp::config::tests::test_config_with_security ... ok
test tcp::config::tests::test_config_with_security_mode ... ok
test tcp::config::tests::test_default_config ... ok
test tcp::config::tests::test_config_with_tls ... ok
test tcp::config::tests::test_effective_require_tls ... ok
test tcp::config::tests::test_node_id_verification_default ... ok
test tcp::config::tests::test_node_id_verification_serde ... ok
test tcp::config::tests::test_node_id_verification_variants ... ok
test tcp::config::tests::test_reconnect_backoff_with_jitter ... ok
test tcp::config::tests::test_reconnect_backoff ... ok
test tcp::config::tests::test_reconnect_default ... ok
test tcp::config::tests::test_reconnect_debug ... ok
test tcp::config::tests::test_reconnect_should_retry ... ok
test tcp::config::tests::test_reconnect_unlimited_retries ... ok
test tcp::config::tests::test_security_config_default ... ok
test tcp::config::tests::test_security_config_constructors ... ok
test tcp::config::tests::test_security_config_without_warnings ... ok
test tcp::config::tests::test_security_config_serde ... ok
test tcp::config::tests::test_security_mode_requires_mtls ... ok
test tcp::config::tests::test_security_mode_requires_node_id_verification ... ok
test tcp::config::tests::test_security_mode_requires_tls ... ok
test tcp::config::tests::test_security_mode_serde ... ok
test tcp::config::tests::test_security_mode_should_warn ... ok
test tcp::config::tests::test_security_mode_strict_default ... ok
test tcp::config::tests::test_tls_config_mtls_default ... ok
test tcp::config::tests::test_tls_config_new ... ok
test tcp::config::tests::test_tls_config_node_id_verification_default ... ok
test tcp::config::tests::test_tls_config_new_secure ... ok
test tcp::config::tests::test_tls_config_with_ca_cert ... ok
test tcp::config::tests::test_tls_config_with_client_auth ... ok
test tcp::config::tests::test_tls_debug ... ok
test tcp::config::tests::test_tls_config_with_node_id_verification ... ok
test tcp::config::tests::test_tls_should_verify_default ... ok
test tcp::config::tests::test_tls_should_verify_in_test_mode ... ok
test tcp::config::tests::test_validate_security_development_mode ... ok
test tcp::config::tests::test_validate_security_fails_without_mtls ... ok
test tcp::config::tests::test_validate_security_fails_without_node_id_verification ... ok
test tcp::config::tests::test_validate_security_fails_without_tls ... ok
test tcp::config::tests::test_validate_security_legacy_mode_backward_compatible ... ok
test tcp::config::tests::test_validate_security_permissive_mode ... ok
test tcp::config::tests::test_validate_security_strict_mode_passes ... ok
test tcp::connection::tests::test_connection_codec ... ok
test tcp::connection::tests::test_connection_manager_config ... ok
test tcp::connection::tests::test_connection_manager ... ok
test tcp::connection::tests::test_connection_pool_basics ... ok
test tcp::connection::tests::test_connection_pool_add_connecting ... ok
test tcp::connection::tests::test_connection_pool_get_connection_empty ... ok
test tcp::connection::tests::test_connection_pool_take_outbound ... ok
test tcp::connection::tests::test_connection_pool_remove ... ok
test tcp::connection::tests::test_connection_state_equality ... ok
test tcp::connection::tests::test_connection_state_debug ... ok
test tcp::connection::tests::test_connection_stats ... ok
test snapshot_buffer::tests::test_buffer_write_read_roundtrip ... ok
test snapshot_buffer::tests::test_buffer_multiple_file_growth_cycles ... ok
test tcp::connection::tests::test_connection_state_transitions ... ok
test tcp::connection::tests::test_connection_stats_reconnect ... ok
test tcp::connection::tests::test_connection_stats_last_activity ... ok
test tcp::error::tests::test_certificate_node_id_mismatch_display ... ok
test tcp::error::tests::test_backpressure_display ... ok
test tcp::error::tests::test_client_cert_missing_display ... ok
test tcp::error::tests::test_client_certificate_required_display ... ok
test tcp::error::tests::test_compression_display ... ok
test tcp::error::tests::test_connection_closed_display ... ok
test tcp::error::tests::test_connection_failed_display ... ok
test tcp::error::tests::test_debug_format ... ok
test tcp::error::tests::test_error_source ... ok
test tcp::error::tests::test_from_bincode_error ... ok
test tcp::error::tests::test_from_io_error ... ok
test tcp::error::tests::test_handshake_failed_display ... ok
test tcp::error::tests::test_identity_verification_failed_display ... ok
test tcp::error::tests::test_invalid_frame_display ... ok
test tcp::error::tests::test_into_chain_error ... ok
test tcp::error::tests::test_io_display ... ok
test tcp::error::tests::test_message_too_large_display ... ok
test tcp::error::tests::test_mtls_required_display ... ok
test tcp::error::tests::test_peer_not_found_display ... ok
test tcp::error::tests::test_node_id_verification_required_display ... ok
test tcp::error::tests::test_plaintext_rejected_display ... ok
test tcp::error::tests::test_serialization_display ... ok
test tcp::error::tests::test_rate_limited_display ... ok
test tcp::error::tests::test_shutdown_display ... ok
test tcp::error::tests::test_timeout_display ... ok
test tcp::framing::tests::test_codec_compression_config ... ok
test tcp::error::tests::test_tls_error_display ... ok
test tcp::error::tests::test_tls_required_display ... ok
test tcp::framing::tests::test_codec_compression_disabled_encodes_normally ... ok
test tcp::framing::tests::test_codec_default ... ok
test tcp::framing::tests::test_codec_set_compression_enabled ... ok
test tcp::framing::tests::test_codec_encode_message_too_large ... ok
test tcp::framing::tests::test_decode_payload_too_large ... ok
test tcp::framing::tests::test_handshake_clone ... ok
test tcp::framing::tests::test_handshake_compression_negotiated ... ok
test tcp::framing::tests::test_handshake_compression_not_negotiated_without_capability ... ok
test tcp::framing::tests::test_encode_decode ... ok
test tcp::framing::tests::test_handshake_compression_not_negotiated_v1_peer ... ok
test tcp::framing::tests::test_handshake_debug ... ok
test tcp::framing::tests::test_handshake_encode_decode ... ok
test tcp::framing::tests::test_handshake_min_protocol_version ... ok
test tcp::framing::tests::test_handshake_protocol_version ... ok
test tcp::framing::tests::test_handshake_read_with_timeout_too_large ... ok
test tcp::framing::tests::test_handshake_read_with_timeout_success ... ok
test tcp::framing::tests::test_handshake_read_with_timeout_wrong_version ... ok
test tcp::framing::tests::test_handshake_supports_compression_method ... ok
test tcp::framing::tests::test_handshake_read_write ... ok
test tcp::framing::tests::test_handshake_too_large ... ok
test tcp::framing::tests::test_handshake_with_compression ... ok
test tcp::framing::tests::test_handshake_with_compression_support ... ok
test tcp::framing::tests::test_handshake_wrong_protocol_version ... ok
test tcp::framing::tests::test_max_frame_length ... ok
test tcp::framing::tests::test_handshake_write_with_timeout_success ... ok
test tcp::framing::tests::test_message_too_large ... ok
test tcp::framing::tests::test_read_frame_connection_closed ... ok
test tcp::framing::tests::test_read_frame_too_large ... ok
test tcp::framing::tests::test_read_frame_with_timeout_connection_closed ... ok
test tcp::framing::tests::test_read_frame_with_timeout_success ... ok
test tcp::framing::tests::test_read_frame_with_timeout_too_large ... ok
test tcp::framing::tests::test_read_frame_with_timeout_zero_length ... ok
test tcp::framing::tests::test_read_frame_zero_length ... ok
test tcp::framing::tests::test_read_write_frame ... ok
test tcp::framing::tests::test_v2_decode_empty_payload ... ok
test tcp::framing::tests::test_v2_encode_decode_uncompressed ... ok
test tcp::framing::tests::test_v2_read_write_frame ... ok
test tcp::framing::tests::test_v2_read_write_with_timeout ... ok
test tcp::framing::tests::test_v2_encode_decode_compressed ... ok
test tcp::rate_limit::tests::test_available_tokens ... ok
test tcp::framing::tests::test_write_frame_with_timeout_success ... ok
test tcp::rate_limit::tests::test_available_tokens_disabled ... ok
test tcp::rate_limit::tests::test_concurrent_access ... ok
test tcp::rate_limit::tests::test_config_aggressive ... ok
test tcp::rate_limit::tests::test_config_builder ... ok
test tcp::rate_limit::tests::test_config_clone ... ok
test tcp::rate_limit::tests::test_config_debug ... ok
test tcp::rate_limit::tests::test_config_default ... ok
test tcp::rate_limit::tests::test_config_disabled ... ok
test tcp::rate_limit::tests::test_config_permissive ... ok
test tcp::rate_limit::tests::test_is_enabled ... ok
test tcp::rate_limit::tests::test_rate_limit_allows_burst ... ok
test tcp::rate_limit::tests::test_rate_limit_blocks_after_burst ... ok
test tcp::rate_limit::tests::test_rate_limit_clear ... ok
test tcp::rate_limit::tests::test_rate_limit_disabled ... ok
test tcp::rate_limit::tests::test_rate_limit_multiple_peers ... ok
test snapshot_buffer::tests::test_buffer_zero_copy_chunks ... ok
test tcp::rate_limit::tests::test_rate_limit_remove_peer ... ok
test tcp::rate_limit::tests::test_serialization_roundtrip ... ok
test tcp::stream::tests::test_dyn_types_are_send ... ok
test tcp::stream::tests::test_split_stream ... ok
test tcp::tls::tests::test_extract_cn_from_malformed_der ... ok
test tcp::tls::tests::test_extract_cn_missing_in_cert ... ok
test tcp::tls::tests::test_extract_cn_with_special_characters ... ok
test tcp::tls::tests::test_extract_from_common_name_missing ... ok
test tcp::tls::tests::test_extract_from_san_missing ... ok
test tcp::framing::tests::test_handshake_read_with_timeout_actual_timeout ... ok
test tcp::framing::tests::test_read_frame_with_timeout_actual_timeout ... ok
test tcp::rate_limit::tests::test_bucket_refill_caps_at_max ... ok
test tcp::tls::tests::test_extract_san_from_malformed_der ... ok
test tcp::tls::tests::test_extract_san_ip_address_skipped ... ok
test tcp::tls::tests::test_extract_san_missing_in_cert ... ok
test tcp::tls::tests::test_extract_san_with_multiple_entries ... ok
test tcp::tls::tests::test_insecure_verifier_accepts_any_cert ... ok
test tcp::tls::tests::test_insecure_verifier_debug ... ok
test tcp::tls::tests::test_insecure_verifier_supported_schemes ... ok
test tcp::tls::tests::test_extract_node_id_common_name ... ok
test tcp::tls::tests::test_extract_node_id_san ... ok
test tcp::tls::tests::test_extract_node_id_none_mode ... ok
test tcp::tls::tests::test_load_certs_missing_file ... ok
test tcp::tls::tests::test_load_certs_empty_file ... ok
test tcp::tls::tests::test_load_certs_certificate_chain ... ok
test tcp::rate_limit::tests::test_rate_limit_refills_over_time ... ok
test tcp::tls::tests::test_load_certs_invalid_pem ... ok
test tcp::tls::tests::test_load_private_key_missing_file ... ok
test tcp::tls::tests::test_load_certs_multiple_certs_in_file ... ok
test tcp::tls::tests::test_load_private_key_invalid_pem ... ok
test tcp::tls::tests::test_load_private_key_no_keys_in_file ... ok
test tcp::tls::tests::test_load_certs_with_whitespace ... ok
test tcp::tls::tests::test_node_id_source_copy ... ok
test tcp::tls::tests::test_node_id_source_debug ... ok
test tcp::tls::tests::test_load_certs_valid_single_cert ... ok
test tcp::tls::tests::test_load_private_key_pkcs8_format ... ok
test tcp::tls::tests::test_node_id_verification_builder ... ok
test raft_wal::tests::test_wal_rotation_at_size_limit ... ok
test tcp::tls::tests::test_tls_config_insecure_mode ... ok
test tcp::tls::tests::test_tls_config_creation ... ok
test tcp::tls::tests::test_verified_peer_identity_clone ... ok
test tcp::tls::tests::test_verified_peer_identity_debug ... ok
test tcp::tls::tests::test_verified_peer_identity_equality ... ok
test tcp::tls::tests::test_verified_peer_identity_from_common_name ... ok
test tcp::tls::tests::test_verified_peer_identity_from_san ... ok
test tcp::tls::tests::test_verified_peer_identity_into_string ... ok
test tcp::tls::tests::test_wrap_client_invalid_server_name ... ok
test tcp::tls::tests::test_load_private_key_rsa_format ... ok
test tcp::tls::tests::test_mtls_with_client_auth ... ok
test tcp::tls::tests::test_tls_config_with_client_auth ... ok
test tcp::tls::tests::test_tls_config_with_ca ... ok
test tcp::tls::tests::test_wrap_client_missing_ca_file ... ok
test tcp::tls::tests::test_wrap_client_ca_add_error ... ok
test tcp::tls::tests::test_wrap_server_missing_ca_for_client_auth ... ok
test tcp::tls::tests::test_wrap_server_cert_key_mismatch ... ok
test tcp::tls::tests::test_wrap_server_with_identity_no_client_auth ... ok
test tcp::tls::tests::test_wrap_server_successful_handshake ... ok
test tcp::tls::tests::test_wrap_client_with_ca_verification ... ok
test tcp::transport::tests::test_bound_addr ... ok
test tcp::tls::tests::test_wrap_client_without_ca_path ... ok
test tcp::transport::tests::test_broadcast_no_peers ... ok
test tcp::transport::tests::test_broadcast_with_failing_peer ... ok
test tcp::transport::tests::test_connect_invalid_address ... ok
test tcp::transport::tests::test_connect_connection_refused ... ok
test tcp::transport::tests::test_configure_socket_with_keepalive ... ok
test tcp::transport::tests::test_configure_socket ... ok
test tcp::transport::tests::test_disconnect_clears_rate_limit ... ok
test tcp::transport::tests::test_disconnect_unknown_peer ... ok
test tcp::transport::tests::test_disconnect_removes_pool ... ok
test tcp::transport::tests::test_peers_after_pool_creation ... ok
test tcp::transport::tests::test_handle_incoming_connection ... ok
test tcp::transport::tests::test_full_connection_flow ... ok
test tcp::transport::tests::test_rate_limiting ... ok
test tcp::transport::tests::test_perform_handshake_peer_id_mismatch ... ok
test tcp::transport::tests::test_rate_limiting_disabled ... ok
test tcp::transport::tests::test_reader_loop_read_error ... ok
test tcp::transport::tests::test_recv_channel_closed ... ok
test tcp::transport::tests::test_reader_loop_with_messages ... ok
test tcp::transport::tests::test_send_direct_no_connection ... ok
test tcp::transport::tests::test_send_to_unknown_peer ... ok
test tcp::transport::tests::test_transport_creation ... ok
test tcp::transport::tests::test_stats_with_pools ... ok
test tcp::transport::tests::test_transport_drop ... ok
test tcp::transport::tests::test_transport_stats ... ok
test tcp::transport::tests::test_transport_stats_clone ... ok
test tcp::transport::tests::test_transport_start_stop ... ok
test tcp::transport::tests::test_transport_stats_debug ... ok
test tcp::transport::tests::test_transport_stats_default ... ok
test tcp::transport::tests::test_writer_loop_channel_closed ... ok
test tcp::transport::tests::test_writer_loop_sends_message ... ok
test tcp::transport::tests::test_writer_loop_write_error ... ok
test tests::test_auto_merge_config_builder ... ok
test tests::test_auto_merge_config_debug_clone ... ok
test tests::test_auto_merge_config_default ... ok
test tests::test_auto_merge_config_disabled ... ok
test tests::test_auto_merge_orthogonal_transactions ... ok
test tests::test_block_ed25519_signing ... ok
test tests::test_block_signature_verification_fails_with_wrong_key ... ok
test tests::test_chain_config ... ok
test tests::test_chain_config_debug_clone ... ok
test tests::test_chain_config_default ... ok
test tests::test_chain_config_with_auto_merge_config ... ok
test tests::test_chain_history ... ok
test tests::test_chain_metrics_clone ... ok
test tests::test_chain_metrics_debug ... ok
test tests::test_chain_metrics_default ... ok
test tests::test_chain_metrics_emit_as_logs ... ok
test tests::test_chain_metrics_from_components ... ok
test tests::test_chain_metrics_new ... ok
test tests::test_chain_metrics_snapshot_health_check_success_rate ... ok
test tests::test_chain_metrics_snapshot_heartbeat_success_rate ... ok
test tests::test_chain_metrics_snapshot_is_cluster_healthy ... ok
test tests::test_chain_metrics_snapshot_is_empty ... ok
test tests::test_chain_metrics_snapshot_serialization ... ok
test tests::test_chain_metrics_snapshot_total_heartbeats ... ok
test tests::test_chain_metrics_snapshot_tx_commit_rate ... ok
test tests::test_chain_metrics_snapshot_unhealthy_health_checks ... ok
test tests::test_chain_metrics_snapshot_unhealthy_heartbeats ... ok
test tests::test_chain_verification ... ok
test tests::test_chain_with_custom_identity ... ok
test tests::test_codebook_manager_accessor ... ok
test tests::test_commit_preserves_block_embedding ... ok
test tests::test_commit_quantizes_delta ... ok
test tests::test_commit_with_auto_merge_disabled ... ok
test tests::test_empty_transaction ... ok
test tests::test_geometric_routing_config_accessors ... ok
test tests::test_geometric_routing_config_disabled ... ok
test tests::test_geometric_routing_config_disabled_chain ... ok
test tests::test_load_global_codebook_empty_store ... ok
test tests::test_load_or_create_with_empty_store ... ok
test tests::test_load_or_create_with_existing_codebook ... ok
test tests::test_quorum_always_majority ... ok
test tests::test_quorum_no_split_brain ... ok
test tests::test_quorum_size_five_nodes ... ok
test tests::test_quorum_size_four_nodes ... ok
test tests::test_quorum_size_seven_nodes ... ok
test tests::test_quorum_size_single_node ... ok
test tests::test_quorum_size_six_nodes ... ok
test tests::test_quorum_size_three_nodes ... ok
test tests::test_quorum_size_two_nodes ... ok
test tests::test_route_by_embedding_disabled ... ok
test tests::test_route_by_embedding_empty ... ok
test tests::test_route_by_embedding_enabled ... ok
test tests::test_save_and_load_global_codebook ... ok
test tcp::transport::tests::test_accept_loop_message_flow ... ok
test tests::test_tensor_chain_active_transactions ... ok
test tests::test_tensor_chain_append_block ... ok
test tests::test_tensor_chain_basic ... ok
test tests::test_tensor_chain_get_block_nonexistent ... ok
test tests::test_tensor_chain_get_tip ... ok
test tests::test_tensor_chain_graph_accessor ... ok
test tests::test_tensor_chain_get_blocks_range ... ok
test tests::test_tensor_chain_new_block ... ok
test tests::test_tensor_chain_iter ... ok
test tcp::transport::tests::test_accept_loop_with_real_connection ... ok
test tests::test_tensor_chain_node_id ... ok
test tests::test_tensor_chain_store_accessor ... ok
test tests::test_transaction_commit ... ok
test tests::test_transition_validator_accessor ... ok
test tests::test_transaction_rollback ... ok
test transaction::tests::test_add_operation_to_non_active ... ok
test transaction::tests::test_add_operations ... ok
test transaction::tests::test_checkpoint_bytes ... ok
test transaction::tests::test_find_merge_candidates_skips_inactive ... ok
test transaction::tests::test_delta_embedding ... ok
test transaction::tests::test_find_merge_candidates_skips_zero_other_magnitude ... ok
test transaction::tests::test_find_merge_candidates_zero_magnitude ... ok
test transaction::tests::test_mark_committed ... ok
test transaction::tests::test_mark_committing_fails_on_non_active ... ok
test transaction::tests::test_find_merge_candidates_sorting ... ok
test transaction::tests::test_mark_committing_success ... ok
test transaction::tests::test_merge_candidate_debug ... ok
test transaction::tests::test_mark_failed ... ok
test transaction::tests::test_merge_candidate_excludes_parallel ... ok
test tcp::transport::tests::test_connect_to_peer_timeout ... ok
test tcp::transport::tests::test_reader_loop_connection_closed ... ok
test transaction::tests::test_transaction_delta_as_merge ... ok
test transaction::tests::test_transaction_delta_clone ... ok
test transaction::tests::test_merge_candidate_finding ... ok
test transaction::tests::test_transaction_delta_debug ... ok
test transaction::tests::test_transaction_delta_empty ... ok
test transaction::tests::test_transaction_delta_no_overlap ... ok
test transaction::tests::test_transaction_delta_overlap ... ok
test transaction::tests::test_transaction_delta_with_embedding ... ok
test transaction::tests::test_rollback_fails_on_committed ... ok
test tcp::transport::tests::test_two_node_communication ... ok
test transaction::tests::test_rollback ... ok
test transaction::tests::test_transaction_delta_from_workspace ... ok
test transaction::tests::test_transaction_manager_default ... ok
test transaction::tests::test_transaction_state_display ... ok
test transaction::tests::test_transaction_manager_active_transactions ... ok
test transaction::tests::test_transaction_manager_active_ids ... ok
test transaction::tests::test_transaction_lifecycle ... ok
test transaction::tests::test_workspace_debug ... ok
test transaction::tests::test_workspace_embedding_default_derive ... ok
test transaction::tests::test_workspace_embedding_delta_or_zero ... ok
test transaction::tests::test_workspace_embedding_empty ... ok
test transaction::tests::test_workspace_embedding_has_delta ... ok
test transaction::tests::test_workspace_embedding_new ... ok
test transaction::tests::test_workspace_embedding_set_after_mismatched_dimensions ... ok
test transaction::tests::test_workspace_embedding_computation ... ok
test transaction::tests::test_workspace_id ... ok
test transaction::tests::test_workspace_embedding_default ... ok
test transaction::tests::test_transaction_manager ... ok
test transaction::tests::test_workspace_started_at ... ok
test transaction::tests::test_workspace_operations_returns_clone ... ok
test tx_id::tests::test_custom_epoch ... ok
test tx_id::tests::test_extract_timestamp_hint_consistency ... ok
test transaction::tests::test_workspace_to_delta_vector ... ok
test snapshot_streaming::tests::test_streaming_large_snapshot ... ok
test tx_id::tests::test_id_structure ... ok
test tx_id::tests::test_no_sequential_pattern ... ok
test tx_id::tests::test_plausibility_check_valid ... ok
test tx_id::tests::test_timestamp_extraction ... ok
test tx_id::tests::test_id_nonzero ... ok
test tx_id::tests::test_unpredictability ... ok
test tx_wal::tests::test_tx_recovery_state_committing ... ok
test tx_wal::tests::test_tx_recovery_state_completed_ignored ... ok
test tx_wal::tests::test_tx_recovery_state_multiple_transactions ... ok
test tx_wal::tests::test_tx_recovery_state_prepared ... ok
test tx_wal::tests::test_tx_recovery_state_vote_without_begin_ignored ... ok
test tx_id::tests::test_bits_distribution ... ok
test tx_id::tests::test_overflow_counter ... ok
test tx_id::tests::test_concurrent_generation ... ok
test transaction::tests::test_merge_window_excludes_old_transactions ... ok
test tx_id::tests::test_uniqueness ... ok
test tx_id::tests::test_plausibility_check_with_small_window ... ok
test tx_wal::tests::test_tx_wal_append_disk_full_simulation ... ok
test tx_wal::tests::test_tx_wal_entry_serialization ... ok
test tx_wal::tests::test_tx_wal_empty_replay_returns_empty_vec ... ok
test tx_wal::tests::test_tx_wal_corrupted_bincode_stops_replay ... ok
test tx_wal::tests::test_tx_wal_current_size_tracking ... ok
test tx_wal::tests::test_tx_wal_append_and_replay ... ok
test tx_wal::tests::test_tx_wal_corrupted_checksum_detected ... ok
test tx_wal::tests::test_tx_wal_path_accessor ... ok
test tx_wal::tests::test_tx_wal_open_permission_denied ... ok
test tx_wal::tests::test_tx_wal_entry_count_after_reopen ... ok
test tx_wal::tests::test_tx_wal_handles_partial_length_write ... ok
test tx_wal::tests::test_tx_wal_handles_partial_data_write ... ok
test tx_wal::tests::test_tx_wal_replay_io_error ... ok
test tx_wal::tests::test_tx_wal_manual_rotation ... ok
test tx_wal::tests::test_tx_wal_v1_backward_compatible ... ok
test tx_wal::tests::test_tx_wal_size_limit_without_auto_rotate ... ok
test validation::tests::test_batch_validation ... ok
test validation::tests::test_compute_path_drift_short ... ok
test validation::tests::test_cosine_similarity_zero_magnitude ... ok
test validation::tests::test_fast_path_result_accept ... ok
test validation::tests::test_fast_path_result_debug_clone ... ok
test validation::tests::test_fast_path_result_reject ... ok
test validation::tests::test_fast_path_validator_default ... ok
test validation::tests::test_fast_path_validator_high_similarity ... ok
test validation::tests::test_fast_path_validator_insufficient_history ... ok
test validation::tests::test_fast_path_validator_low_similarity ... ok
test validation::tests::test_fast_path_validator_periodic_full ... ok
test validation::tests::test_fast_path_validator_reset ... ok
test validation::tests::test_fast_path_validator_reset_method ... ok
test validation::tests::test_find_max_deviation_empty ... ok
test validation::tests::test_is_valid_state ... ok
test validation::tests::test_is_valid_transition ... ok
test validation::tests::test_learn_from_states ... ok
test validation::tests::test_max_deviation ... ok
test validation::tests::test_non_strict_transition_exceeds_magnitude ... ok
test validation::tests::test_non_strict_transition_validation ... ok
test validation::tests::test_path_drift ... ok
test validation::tests::test_path_validation ... ok
test validation::tests::test_state_validation ... ok
test validation::tests::test_state_validation_debug_clone ... ok
test validation::tests::test_state_validation_with_local_codebook ... ok
test validation::tests::test_transition_invalid_source_state ... ok
test validation::tests::test_transition_invalid_target_state ... ok
test validation::tests::test_transition_validation ... ok
test validation::tests::test_transition_validation_debug_clone ... ok
test validation::tests::test_transition_validator_get_or_create_local ... ok
test validation::tests::test_transition_validator_global_accessor ... ok
test validation::tests::test_transition_validator_register_local ... ok
test validation::tests::test_validate_path_invalid ... ok
test validation::tests::test_validate_path_short ... ok
test validation::tests::test_validate_state_no_local_codebook ... ok
test validation::tests::test_validation_config_clone_debug ... ok
test validation::tests::test_validation_config_default ... ok
test validation::tests::test_validation_mode_debug_copy ... ok
test validation::tests::test_validation_mode_default ... ok
test validation::tests::test_with_local_creates_and_persists ... ok
test validation::tests::test_with_local_persists_across_calls ... ok
test tx_wal::tests::test_tx_wal_v2_checksum_roundtrip ... ok
test tx_wal::tests::test_tx_wal_truncate_error_handling ... ok
test tx_wal::tests::test_tx_wal_truncate ... ok
test tx_wal::tests::test_tx_wal_very_large_entry_serializes_correctly ... ok
test raft_wal::tests::test_wal_rotated_files_cleanup ... ok
test tx_wal::tests::test_tx_wal_rotation_at_size_limit ... ok
test cluster::tests::test_send_query_concurrent_queries_correlate_correctly ... ok
test cluster::tests::test_send_query_success_returns_response ... ok
test tx_wal::tests::test_tx_wal_maximum_entry_count ... ok

test result: ok. 1825 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 5.20s

   Doc-tests tensor_chain

running 25 tests
test tensor_chain/src/geometric_membership.rs - geometric_membership (line 128) ... ignored
test tensor_chain/src/lib.rs - (line 22) ... ignored
test tensor_chain/src/gossip.rs - gossip (line 116) ... FAILED
test tensor_chain/src/message_validation.rs - message_validation (line 111) ... ok
test tensor_chain/src/geometric_membership.rs - geometric_membership (line 108) ... ok
test tensor_chain/src/message_validation.rs - message_validation (line 70) ... ok
test tensor_chain/src/geometric_membership.rs - geometric_membership (line 94) ... ok
test tensor_chain/src/geometric_membership.rs - geometric_membership (line 67) ... ok
test tensor_chain/src/signing.rs - signing (line 110) ... ok
test tensor_chain/src/gossip.rs - gossip (line 76) ... ok
test tensor_chain/src/message_validation.rs - message_validation (line 91) ... ok
test tensor_chain/src/deadlock.rs - deadlock (line 65) ... ok
test tensor_chain/src/tcp/mod.rs - tcp (line 30) ... ignored
test tensor_chain/src/signing.rs - signing (line 130) ... ok
test tensor_chain/src/signing.rs - signing (line 87) ... ok
test tensor_chain/src/snapshot_buffer.rs - snapshot_buffer (line 109) ... ok
test tensor_chain/src/snapshot_buffer.rs - snapshot_buffer (line 41) ... FAILED
test tensor_chain/src/snapshot_buffer.rs - snapshot_buffer (line 65) ... ok
test tensor_chain/src/snapshot_buffer.rs - snapshot_buffer (line 86) ... ok
test tensor_chain/src/snapshot_streaming.rs - snapshot_streaming (line 117) ... ok
test tensor_chain/src/snapshot_streaming.rs - snapshot_streaming (line 90) ... ok
test tensor_chain/src/snapshot_streaming.rs - snapshot_streaming (line 66) ... ok
test tensor_chain/src/tx_id.rs - tx_id (line 50) ... ok
test tensor_chain/src/tx_id.rs - tx_id (line 63) ... ok
test tensor_chain/src/tx_id.rs - tx_id (line 74) ... ok

failures:

---- tensor_chain/src/gossip.rs - gossip (line 116) stdout ----
error[E0560]: struct `GossipConfig` has no field named `ping_req_fanout`
  --> tensor_chain/src/gossip.rs:128:5
   |
15 |     ping_req_fanout: 3,  // Ask 3 peers for indirect probes
   |     ^^^^^^^^^^^^^^^ `GossipConfig` does not have this field
   |
   = note: available fields are: `fanout`, `max_states_per_message`, `geometric_routing`, `indirect_ping_count`, `indirect_ping_timeout_ms` ... and 2 others

error[E0560]: struct `GossipConfig` has no field named `max_piggyback_states`
  --> tensor_chain/src/gossip.rs:131:5
   |
18 |     max_piggyback_states: 10,  // Max states per message
   |     ^^^^^^^^^^^^^^^^^^^^ `GossipConfig` does not have this field
   |
   = note: available fields are: `fanout`, `max_states_per_message`, `geometric_routing`, `indirect_ping_count`, `indirect_ping_timeout_ms` ... and 2 others

error: aborting due to 2 previous errors

For more information about this error, try `rustc --explain E0560`.
Couldn't compile the test.
---- tensor_chain/src/snapshot_buffer.rs - snapshot_buffer (line 41) stdout ----
Test executable failed (exit status: 101).

stderr:

thread 'main' (44281) panicked at tensor_chain/src/snapshot_buffer.rs:23:38:
called `Result::unwrap()` on an `Err` value: OutOfBounds { offset: 0, len: 1024, total: 42 }
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace



failures:
    tensor_chain/src/gossip.rs - gossip (line 116)
    tensor_chain/src/snapshot_buffer.rs - snapshot_buffer (line 41)

test result: FAILED. 20 passed; 2 failed; 3 ignored; 0 measured; 0 filtered out; finished in 31.95s

error: doctest failed, to rerun pass `-p tensor_chain --doc`
